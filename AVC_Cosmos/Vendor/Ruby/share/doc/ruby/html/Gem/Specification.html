<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Gem::Specification - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    <div id="sections-section" class="nav-section">
  <h3>Sections</h3>

  <ul class="link-list" role="directory">
    
      <li><a href="#5Buntitled-5D"></a></li>
    
      <li><a href="#Optional+gemspec+attributes">Optional gemspec attributes</a></li>
    
      <li><a href="#Recommended+gemspec+attributes">Recommended gemspec attributes</a></li>
    
      <li><a href="#Required+gemspec+attributes">Required gemspec attributes</a></li>
    
      <li><a href="#Specification+internals">Specification internals</a></li>
    
  </ul>
</div>

    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="BasicSpecification.html">Gem::BasicSpecification</a>
  
</div>

    
    <div id="extends-section" class="nav-section">
  <h3>Extended With Modules</h3>

  <ul class="link-list">
    
  
    <li><a class="extend" href="../Enumerable.html">Enumerable</a>
  
  
  
    <li><a class="extend" href="UserInteraction.html">Gem::UserInteraction</a>
  
  
  
    <li><a class="extend" href="Deprecate.html">Gem::Deprecate</a>
  
  
  </ul>
</div>

    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-_load">::_load</a>
    
    <li ><a href="#method-c-add_spec">::add_spec</a>
    
    <li ><a href="#method-c-add_specs">::add_specs</a>
    
    <li ><a href="#method-c-all">::all</a>
    
    <li ><a href="#method-c-all-3D">::all=</a>
    
    <li ><a href="#method-c-all_names">::all_names</a>
    
    <li ><a href="#method-c-array_attributes">::array_attributes</a>
    
    <li ><a href="#method-c-attribute_names">::attribute_names</a>
    
    <li ><a href="#method-c-default_stubs">::default_stubs</a>
    
    <li ><a href="#method-c-dirs">::dirs</a>
    
    <li ><a href="#method-c-dirs-3D">::dirs=</a>
    
    <li ><a href="#method-c-each">::each</a>
    
    <li ><a href="#method-c-find_active_stub_by_path">::find_active_stub_by_path</a>
    
    <li ><a href="#method-c-find_all_by_name">::find_all_by_name</a>
    
    <li ><a href="#method-c-find_by_name">::find_by_name</a>
    
    <li ><a href="#method-c-find_by_path">::find_by_path</a>
    
    <li ><a href="#method-c-find_in_unresolved">::find_in_unresolved</a>
    
    <li ><a href="#method-c-find_in_unresolved_tree">::find_in_unresolved_tree</a>
    
    <li ><a href="#method-c-find_inactive_by_path">::find_inactive_by_path</a>
    
    <li ><a href="#method-c-from_yaml">::from_yaml</a>
    
    <li ><a href="#method-c-gemspec_stubs_in">::gemspec_stubs_in</a>
    
    <li ><a href="#method-c-installed_stubs">::installed_stubs</a>
    
    <li ><a href="#method-c-latest_specs">::latest_specs</a>
    
    <li ><a href="#method-c-load">::load</a>
    
    <li ><a href="#method-c-load_defaults">::load_defaults</a>
    
    <li class="calls-super" ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-c-non_nil_attributes">::non_nil_attributes</a>
    
    <li ><a href="#method-c-normalize_yaml_input">::normalize_yaml_input</a>
    
    <li ><a href="#method-c-outdated">::outdated</a>
    
    <li ><a href="#method-c-outdated_and_latest_version">::outdated_and_latest_version</a>
    
    <li ><a href="#method-c-remove_spec">::remove_spec</a>
    
    <li ><a href="#method-c-required_attribute-3F">::required_attribute?</a>
    
    <li ><a href="#method-c-required_attributes">::required_attributes</a>
    
    <li ><a href="#method-c-reset">::reset</a>
    
    <li ><a href="#method-c-sort_by-21">::sort_by!</a>
    
    <li ><a href="#method-c-stubs">::stubs</a>
    
    <li ><a href="#method-c-stubs_for">::stubs_for</a>
    
    <li ><a href="#method-c-unresolved_deps">::unresolved_deps</a>
    
    <li ><a href="#method-i-_dump">#_dump</a>
    
    <li ><a href="#method-i-abbreviate">#abbreviate</a>
    
    <li ><a href="#method-i-activate">#activate</a>
    
    <li ><a href="#method-i-activate_dependencies">#activate_dependencies</a>
    
    <li ><a href="#method-i-add_bindir">#add_bindir</a>
    
    <li ><a href="#method-i-add_dependency">#add_dependency</a>
    
    <li ><a href="#method-i-add_dependency_with_type">#add_dependency_with_type</a>
    
    <li ><a href="#method-i-add_development_dependency">#add_development_dependency</a>
    
    <li ><a href="#method-i-add_runtime_dependency">#add_runtime_dependency</a>
    
    <li ><a href="#method-i-add_self_to_load_path">#add_self_to_load_path</a>
    
    <li ><a href="#method-i-author">#author</a>
    
    <li ><a href="#method-i-author-3D">#author=</a>
    
    <li ><a href="#method-i-authors">#authors</a>
    
    <li ><a href="#method-i-authors-3D">#authors=</a>
    
    <li ><a href="#method-i-base_dir">#base_dir</a>
    
    <li ><a href="#method-i-bin_dir">#bin_dir</a>
    
    <li ><a href="#method-i-bin_file">#bin_file</a>
    
    <li ><a href="#method-i-build_args">#build_args</a>
    
    <li ><a href="#method-i-build_info_dir">#build_info_dir</a>
    
    <li ><a href="#method-i-build_info_file">#build_info_file</a>
    
    <li ><a href="#method-i-bundled_gem_in_old_ruby-3F">#bundled_gem_in_old_ruby?</a>
    
    <li ><a href="#method-i-cache_dir">#cache_dir</a>
    
    <li ><a href="#method-i-cache_file">#cache_file</a>
    
    <li ><a href="#method-i-conflicts">#conflicts</a>
    
    <li ><a href="#method-i-date">#date</a>
    
    <li ><a href="#method-i-date-3D">#date=</a>
    
    <li ><a href="#method-i-default_value">#default_value</a>
    
    <li ><a href="#method-i-dependencies">#dependencies</a>
    
    <li ><a href="#method-i-dependent_gems">#dependent_gems</a>
    
    <li ><a href="#method-i-dependent_specs">#dependent_specs</a>
    
    <li ><a href="#method-i-description-3D">#description=</a>
    
    <li ><a href="#method-i-development_dependencies">#development_dependencies</a>
    
    <li ><a href="#method-i-doc_dir">#doc_dir</a>
    
    <li ><a href="#method-i-executable">#executable</a>
    
    <li ><a href="#method-i-executable-3D">#executable=</a>
    
    <li ><a href="#method-i-executables">#executables</a>
    
    <li ><a href="#method-i-executables-3D">#executables=</a>
    
    <li ><a href="#method-i-extensions">#extensions</a>
    
    <li ><a href="#method-i-extensions-3D">#extensions=</a>
    
    <li ><a href="#method-i-extra_rdoc_files">#extra_rdoc_files</a>
    
    <li ><a href="#method-i-extra_rdoc_files-3D">#extra_rdoc_files=</a>
    
    <li ><a href="#method-i-file_name">#file_name</a>
    
    <li ><a href="#method-i-files">#files</a>
    
    <li ><a href="#method-i-files-3D">#files=</a>
    
    <li ><a href="#method-i-find_all_satisfiers">#find_all_satisfiers</a>
    
    <li ><a href="#method-i-for_cache">#for_cache</a>
    
    <li class="calls-super" ><a href="#method-i-full_name">#full_name</a>
    
    <li ><a href="#method-i-gems_dir">#gems_dir</a>
    
    <li ><a href="#method-i-has_conflicts-3F">#has_conflicts?</a>
    
    <li ><a href="#method-i-initialize_copy">#initialize_copy</a>
    
    <li ><a href="#method-i-invalidate_memoized_attributes">#invalidate_memoized_attributes</a>
    
    <li ><a href="#method-i-lib_files">#lib_files</a>
    
    <li ><a href="#method-i-license">#license</a>
    
    <li ><a href="#method-i-license-3D">#license=</a>
    
    <li ><a href="#method-i-licenses">#licenses</a>
    
    <li ><a href="#method-i-licenses-3D">#licenses=</a>
    
    <li ><a href="#method-i-mark_version">#mark_version</a>
    
    <li ><a href="#method-i-missing_extensions-3F">#missing_extensions?</a>
    
    <li ><a href="#method-i-name_tuple">#name_tuple</a>
    
    <li ><a href="#method-i-normalize">#normalize</a>
    
    <li ><a href="#method-i-platform">#platform</a>
    
    <li ><a href="#method-i-platform-3D">#platform=</a>
    
    <li ><a href="#method-i-rdoc_options">#rdoc_options</a>
    
    <li ><a href="#method-i-rdoc_options-3D">#rdoc_options=</a>
    
    <li ><a href="#method-i-require_path">#require_path</a>
    
    <li ><a href="#method-i-require_path-3D">#require_path=</a>
    
    <li ><a href="#method-i-require_paths-3D">#require_paths=</a>
    
    <li ><a href="#method-i-required_ruby_version-3D">#required_ruby_version=</a>
    
    <li ><a href="#method-i-required_rubygems_version-3D">#required_rubygems_version=</a>
    
    <li ><a href="#method-i-requirements">#requirements</a>
    
    <li ><a href="#method-i-requirements-3D">#requirements=</a>
    
    <li ><a href="#method-i-reset_nil_attributes_to_default">#reset_nil_attributes_to_default</a>
    
    <li ><a href="#method-i-ri_dir">#ri_dir</a>
    
    <li ><a href="#method-i-ruby_code">#ruby_code</a>
    
    <li ><a href="#method-i-runtime_dependencies">#runtime_dependencies</a>
    
    <li ><a href="#method-i-same_attributes-3F">#same_attributes?</a>
    
    <li ><a href="#method-i-sanitize">#sanitize</a>
    
    <li ><a href="#method-i-sanitize_string">#sanitize_string</a>
    
    <li ><a href="#method-i-satisfies_requirement-3F">#satisfies_requirement?</a>
    
    <li ><a href="#method-i-sort_obj">#sort_obj</a>
    
    <li ><a href="#method-i-spec_dir">#spec_dir</a>
    
    <li ><a href="#method-i-spec_file">#spec_file</a>
    
    <li ><a href="#method-i-spec_name">#spec_name</a>
    
    <li ><a href="#method-i-stubbed-3F">#stubbed?</a>
    
    <li ><a href="#method-i-summary-3D">#summary=</a>
    
    <li ><a href="#method-i-to_ruby">#to_ruby</a>
    
    <li ><a href="#method-i-to_ruby_for_cache">#to_ruby_for_cache</a>
    
    <li ><a href="#method-i-to_spec">#to_spec</a>
    
    <li ><a href="#method-i-traverse">#traverse</a>
    
    <li ><a href="#method-i-validate">#validate</a>
    
    <li ><a href="#method-i-validate_permissions">#validate_permissions</a>
    
    <li ><a href="#method-i-version-3D">#version=</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Gem::Specification">
  <h1 id="class-Gem::Specification" class="class">
    class Gem::Specification
  </h1>

  <section class="description">
    
<p>The <a href="Specification.html">Specification</a> class contains the
information for a Gem.  Typically defined in a .gemspec file or a Rakefile,
and looks like this:</p>

<pre class="ruby"><span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">name</span>        = <span class="ruby-string">&#39;example&#39;</span>
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">version</span>     = <span class="ruby-string">&#39;0.1.0&#39;</span>
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">licenses</span>    = [<span class="ruby-string">&#39;MIT&#39;</span>]
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">summary</span>     = <span class="ruby-string">&quot;This is an example!&quot;</span>
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">description</span> = <span class="ruby-string">&quot;Much longer explanation of the example!&quot;</span>
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">authors</span>     = [<span class="ruby-string">&quot;Ruby Coder&quot;</span>]
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">email</span>       = <span class="ruby-string">&#39;rubycoder@example.com&#39;</span>
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">files</span>       = [<span class="ruby-string">&quot;lib/example.rb&quot;</span>]
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">homepage</span>    = <span class="ruby-string">&#39;https://rubygems.org/gems/example&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Starting in RubyGems 2.0, a <a href="Specification.html">Specification</a>
can hold arbitrary metadata.  See <a
href="Specification.html#attribute-i-metadata">metadata</a> for
restrictions on the format and size of metadata items you may add to a
specification.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="NONEXISTENT_SPECIFICATION_VERSION">NONEXISTENT_SPECIFICATION_VERSION
        
        <dd><p>The version number of a specification that does not specify one (i.e.
RubyGems 0.7 or earlier).</p>
        
      
      </dl>
    </section>
    

    

    
  </section>

  
  
  <section id="Optional+gemspec+attributes" class="documentation-section">
    
    <header class="documentation-section-title">
      <h2>
        Optional gemspec attributes
      </h2>
      <span class="section-click-top">
        <a href="#top">&uarr; top</a>
      </span>
    </header>
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-bindir" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">bindir</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The path in the gem for executable scripts.  Usually &#39;bin&#39;</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">bindir</span> = <span class="ruby-string">&#39;bin&#39;</span>
</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-cert_chain" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">cert_chain</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The certificate chain used to sign this gem.  See <a
href="Security.html">Gem::Security</a> for details.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-description" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">description</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>A long description of this gem</p>

<p>The description should be more detailed than the summary but not
excessively long.  A few paragraphs is a recommended length with no
examples or formatting.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">description</span> = <span class="ruby-value">&lt;&lt;-EOF
  Rake is a Make-like program implemented in Ruby. Tasks and
  dependencies are specified in standard Ruby syntax.
EOF</span>
</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-metadata" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">metadata</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>:attr_accessor: metadata</p>

<p>The metadata holds extra data for this gem that may be useful to other
consumers and is settable by gem authors without requiring an update to the
rubygems software.</p>

<p>Metadata items have the following restrictions:</p>
<ul><li>
<p>The metadata must be a <a href="../Hash.html">Hash</a> object</p>
</li><li>
<p>All keys and values must be Strings</p>
</li><li>
<p>Keys can be a maximum of 128 bytes and values can be a maximum of 1024
bytes</p>
</li><li>
<p>All strings must be UTF-8, no binary data is allowed</p>
</li></ul>

<p>To add metadata for the location of a issue tracker:</p>

<pre class="ruby"><span class="ruby-identifier">s</span>.<span class="ruby-identifier">metadata</span> = { <span class="ruby-string">&quot;issue_tracker&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;https://example/issues&quot;</span> }
</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-post_install_message" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">post_install_message</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>A message that gets displayed after the gem is installed.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">post_install_message</span> = <span class="ruby-string">&quot;Thanks for installing!&quot;</span>
</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-required_ruby_version" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">required_ruby_version</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The version of Ruby required by this gem</p>
        
        </div>
      </div>
      
      <div id="attribute-i-required_rubygems_version" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">required_rubygems_version</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The RubyGems version required by this gem</p>
        
        </div>
      </div>
      
      <div id="attribute-i-signing_key" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">signing_key</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The key used to sign this gem.  See <a
href="Security.html">Gem::Security</a> for details.</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-instance-Optional+gemspec+attributes-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-add_development_dependency" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_development_dependency</span><span
            class="method-args">(gem, *requirements)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Adds a development dependency named <code>gem</code> with
<code>requirements</code> to this gem.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">add_development_dependency</span> <span class="ruby-string">&#39;example&#39;</span>, <span class="ruby-string">&#39;~&gt; 1.1&#39;</span>, <span class="ruby-string">&#39;&gt;= 1.1.4&#39;</span>
</pre>

<p>Development dependencies aren&#39;t installed by default and aren&#39;t
activated when a gem is required.</p>
          
          

          
          <div class="method-source-code" id="add_development_dependency-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 473</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_development_dependency</span>(<span class="ruby-identifier">gem</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">requirements</span>)
  <span class="ruby-identifier">add_dependency_with_type</span>(<span class="ruby-identifier">gem</span>, <span class="ruby-value">:development</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">requirements</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-add_runtime_dependency" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_runtime_dependency</span><span
            class="method-args">(gem, *requirements)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Adds a runtime dependency named <code>gem</code> with
<code>requirements</code> to this gem.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">add_runtime_dependency</span> <span class="ruby-string">&#39;example&#39;</span>, <span class="ruby-string">&#39;~&gt; 1.1&#39;</span>, <span class="ruby-string">&#39;&gt;= 1.1.4&#39;</span>
</pre>
          
          

          
          <div class="method-source-code" id="add_runtime_dependency-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 484</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_runtime_dependency</span>(<span class="ruby-identifier">gem</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">requirements</span>)
  <span class="ruby-identifier">add_dependency_with_type</span>(<span class="ruby-identifier">gem</span>, <span class="ruby-value">:runtime</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">requirements</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Specification.html#method-i-add_dependency">add_dependency</a>
        </div>
        

        
      </div>

    
      <div id="method-i-executables" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">executables</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Executables included in the gem.</p>

<p>For example, the rake gem has rake as an executable. You don’t specify the
full path (as in bin/rake); all application-style files are expected to be
found in bindir.  These files must be executable Ruby files.  Files that
use bash or other interpreters will not work.</p>

<p>Executables included may only be ruby scripts, not scripts for other
languages or compiled binaries.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">executables</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;rake&#39;</span>
</pre>
          
          

          
          <div class="method-source-code" id="executables-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 503</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">executables</span>
  <span class="ruby-ivar">@executables</span> <span class="ruby-operator">||=</span> []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-extensions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extensions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Extensions to build when installing the gem, specifically the paths to
extconf.rb-style files used to compile extensions.</p>

<p>These files will be run when the gem is installed, causing the C (or
whatever) code to be compiled on the user’s machine.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">extensions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;ext/rmagic/extconf.rb&#39;</span>
</pre>

<p>See <a href="Ext/Builder.html">Gem::Ext::Builder</a> for information about
writing extensions for gems.</p>
          
          

          
          <div class="method-source-code" id="extensions-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 520</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extensions</span>
  <span class="ruby-ivar">@extensions</span> <span class="ruby-operator">||=</span> []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-extra_rdoc_files" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extra_rdoc_files</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Extra files to add to <a href="../RDoc.html">RDoc</a> such as <a
href="../README_md.html">README</a> or doc/examples.txt</p>

<p>When the user elects to generate the <a href="../RDoc.html">RDoc</a>
documentation for a gem (typically at install time), all the library files
are sent to <a href="../RDoc.html">RDoc</a> for processing. This option
allows you to have some non-code files included for a more complete set of
documentation.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">extra_rdoc_files</span> = [<span class="ruby-string">&#39;README&#39;</span>, <span class="ruby-string">&#39;doc/user-guide.txt&#39;</span>]
</pre>
          
          

          
          <div class="method-source-code" id="extra_rdoc_files-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 536</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extra_rdoc_files</span>
  <span class="ruby-ivar">@extra_rdoc_files</span> <span class="ruby-operator">||=</span> []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rdoc_options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rdoc_options</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Specifies the rdoc options to be used when generating API documentation.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">rdoc_options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;--title&#39;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;Rake -- Ruby Make&#39;</span> <span class="ruby-operator">&lt;&lt;</span>
  <span class="ruby-string">&#39;--main&#39;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;README&#39;</span> <span class="ruby-operator">&lt;&lt;</span>
  <span class="ruby-string">&#39;--line-numbers&#39;</span>
</pre>
          
          

          
          <div class="method-source-code" id="rdoc_options-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 616</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rdoc_options</span>
  <span class="ruby-ivar">@rdoc_options</span> <span class="ruby-operator">||=</span> []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-required_ruby_version-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">required_ruby_version=</span><span
            class="method-args">(req)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The version of Ruby required by this gem.  The ruby version can be
specified to the patch-level:</p>

<pre>$ ruby -v -e &#39;p Gem.ruby_version&#39;
ruby 2.0.0p247 (2013-06-27 revision 41674) [x86_64-darwin12.4.0]
#&lt;Gem::Version &quot;2.0.0.247&quot;&gt;</pre>

<p>Because patch-level is taken into account, be very careful specifying using
`&lt;=`: `&lt;= 2.2.2` will not match any patch-level of 2.2.2 after the
`p0` release. It is much safer to specify `&lt; 2.2.3` instead</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-comment"># This gem will work with 1.8.6 or greater...</span>
<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">required_ruby_version</span> = <span class="ruby-string">&#39;&gt;= 1.8.6&#39;</span>

<span class="ruby-comment"># Only with ruby 2.0.x</span>
<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">required_ruby_version</span> = <span class="ruby-string">&#39;~&gt; 2.0&#39;</span>

<span class="ruby-comment"># Only with ruby between 2.2.0 and 2.2.2</span>
<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">required_ruby_version</span> = [<span class="ruby-string">&#39;&gt;= 2.2.0&#39;</span>, <span class="ruby-string">&#39;&lt; 2.2.3&#39;</span>]
</pre>
          
          

          
          <div class="method-source-code" id="required_ruby_version-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 643</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">required_ruby_version=</span> <span class="ruby-identifier">req</span>
  <span class="ruby-ivar">@required_ruby_version</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>.<span class="ruby-identifier">create</span> <span class="ruby-identifier">req</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-required_rubygems_version-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">required_rubygems_version=</span><span
            class="method-args">(req)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The RubyGems version required by this gem</p>
          
          

          
          <div class="method-source-code" id="required_rubygems_version-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 650</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">required_rubygems_version=</span> <span class="ruby-identifier">req</span>
  <span class="ruby-ivar">@required_rubygems_version</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>.<span class="ruby-identifier">create</span> <span class="ruby-identifier">req</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-requirements" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">requirements</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Lists the external (to RubyGems) requirements that must be met for this gem
to work.  It&#39;s simply information for the user.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">requirements</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;libmagick, v6.0&#39;</span>
<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">requirements</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;A good graphics card&#39;</span>
</pre>
          
          

          
          <div class="method-source-code" id="requirements-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 663</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">requirements</span>
  <span class="ruby-ivar">@requirements</span> <span class="ruby-operator">||=</span> []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

  
  
  <section id="Recommended+gemspec+attributes" class="documentation-section">
    
    <header class="documentation-section-title">
      <h2>
        Recommended gemspec attributes
      </h2>
      <span class="section-click-top">
        <a href="#top">&uarr; top</a>
      </span>
    </header>
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-email" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">email</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>A contact email address (or addresses) for this gem</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">email</span> = <span class="ruby-string">&#39;john.jones@example.com&#39;</span>
<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">email</span> = [<span class="ruby-string">&#39;jack@example.com&#39;</span>, <span class="ruby-string">&#39;jill@example.com&#39;</span>]
</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-homepage" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">homepage</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The URL of this gem&#39;s home page</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">homepage</span> = <span class="ruby-string">&#39;https://github.com/ruby/rake&#39;</span>
</pre>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-instance-Recommended+gemspec+attributes-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-license-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">license=</span><span
            class="method-args">(o)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The license for this gem.</p>

<p>The license must be no more than 64 characters.</p>

<p>This should just be the name of your license. The full text of the license
should be inside of the gem (at the top level) when you build it.</p>

<p>The simplest way, is to specify the standard SPDX ID <a
href="https://spdx.org/licenses">spdx.org/licenses</a>/ for the license.
Ideally you should pick one that is OSI (Open Source Initiative) <a
href="http://opensource.org/licenses/alphabetical">opensource.org/licenses/alphabetical</a>
approved.</p>

<p>The most commonly used OSI approved licenses are MIT and Apache-2.0. GitHub
also provides a license picker at <a
href="http://choosealicense.com">choosealicense.com</a>/.</p>

<p>You should specify a license for your gem so that people know how they are
permitted to use it, and any restrictions you&#39;re placing on it.  Not
specifying a license means all rights are reserved; others have no rights
to use the code for any purpose.</p>

<p>You can set multiple licenses with <a
href="Specification.html#method-i-licenses-3D">licenses=</a></p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">license</span> = <span class="ruby-string">&#39;MIT&#39;</span>
</pre>
          
          

          
          <div class="method-source-code" id="license-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 585</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">license=</span><span class="ruby-identifier">o</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">licenses</span> = [<span class="ruby-identifier">o</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-licenses-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">licenses=</span><span
            class="method-args">(licenses)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The license(s) for the library.</p>

<p>Each license must be a short name, no more than 64 characters.</p>

<p>This should just be the name of your license. The full text of the license
should be inside of the gem when you build it.</p>

<p>See <a href="Specification.html#method-i-license-3D">license=</a> for more
discussion</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">licenses</span> = [<span class="ruby-string">&#39;MIT&#39;</span>, <span class="ruby-string">&#39;GPL-2.0&#39;</span>]
</pre>
          
          

          
          <div class="method-source-code" id="licenses-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 603</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">licenses=</span> <span class="ruby-identifier">licenses</span>
  <span class="ruby-ivar">@licenses</span> = <span class="ruby-constant">Array</span> <span class="ruby-identifier">licenses</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

  
  
  <section id="Required+gemspec+attributes" class="documentation-section">
    
    <header class="documentation-section-title">
      <h2>
        Required gemspec attributes
      </h2>
      <span class="section-click-top">
        <a href="#top">&uarr; top</a>
      </span>
    </header>
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-name" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">name</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>This gem&#39;s name.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&#39;rake&#39;</span>
</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-rubygems_version" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">rubygems_version</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The version of RubyGems used to create this gem.</p>

<p>Do not set this, it is set automatically when the gem is packaged.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-summary" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">summary</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>A short summary of this gem&#39;s description.  Displayed in `gem list -d`.</p>

<p>The <a href="Specification.html#attribute-i-description">description</a>
should be more detailed than the summary.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">summary</span> = <span class="ruby-string">&quot;This is a small summary of my gem&quot;</span>
</pre>
        
        </div>
      </div>
      
      <div id="attribute-i-version" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">version</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>This gem&#39;s version.</p>

<p>The version string can contain numbers and periods, such as
<code>1.0.0</code>. A gem is a &#39;prerelease&#39; gem if the version has
a letter in it, such as <code>1.0.0.pre</code>.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">version</span> = <span class="ruby-string">&#39;0.4.1&#39;</span>
</pre>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-instance-Required+gemspec+attributes-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-author-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">author=</span><span
            class="method-args">(o)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Singular writer for <a
href="Specification.html#method-i-authors">authors</a></p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">author</span> = <span class="ruby-string">&#39;John Jones&#39;</span>
</pre>
          
          

          
          <div class="method-source-code" id="author-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">author=</span> <span class="ruby-identifier">o</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">authors</span> = [<span class="ruby-identifier">o</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-authors-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">authors=</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the list of authors, ensuring it is an array.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">authors</span> = [<span class="ruby-string">&#39;John Jones&#39;</span>, <span class="ruby-string">&#39;Mary Smith&#39;</span>]
</pre>
          
          

          
          <div class="method-source-code" id="authors-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 266</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">authors=</span> <span class="ruby-identifier">value</span>
  <span class="ruby-ivar">@authors</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">value</span>).<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-constant">String</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-files" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">files</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Files included in this gem.  You cannot append to this accessor, you must
assign to it.</p>

<p>Only add files you can require to this list, not directories, etc.</p>

<p>Directories are automatically stripped from this list when building a gem,
other non-files cause an error.</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rake&#39;</span>
<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">files</span> = <span class="ruby-constant">FileList</span>[<span class="ruby-string">&#39;lib     .rb&#39;</span>,
                      <span class="ruby-string">&#39;bin/*&#39;</span>,
                      <span class="ruby-string">&#39;[A-Z]*&#39;</span>,
                      <span class="ruby-string">&#39;test/   *&#39;</span>].<span class="ruby-identifier">to_a</span>

<span class="ruby-comment"># or without Rake...</span>
<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">files</span> = <span class="ruby-constant">Dir</span>[<span class="ruby-string">&#39;lib/   *.rb&#39;</span>] <span class="ruby-operator">+</span> <span class="ruby-constant">Dir</span>[<span class="ruby-string">&#39;bin/*&#39;</span>]
<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">files</span> <span class="ruby-operator">+=</span> <span class="ruby-constant">Dir</span>[<span class="ruby-string">&#39;[A-Z]*&#39;</span>] <span class="ruby-operator">+</span> <span class="ruby-constant">Dir</span>[<span class="ruby-string">&#39;test/**/*&#39;</span>]
<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">files</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">fn</span><span class="ruby-operator">|</span> <span class="ruby-identifier">fn</span>.<span class="ruby-identifier">include?</span> <span class="ruby-string">&quot;CVS&quot;</span> }
</pre>
          
          

          
          <div class="method-source-code" id="files-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 349</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">files</span>
  <span class="ruby-comment"># DO NOT CHANGE TO ||= ! This is not a normal accessor. (yes, it sucks)</span>
  <span class="ruby-comment"># DOC: Why isn&#39;t it normal? Why does it suck? How can we fix this?</span>
  <span class="ruby-ivar">@files</span> = [<span class="ruby-ivar">@files</span>,
            <span class="ruby-ivar">@test_files</span>,
            <span class="ruby-identifier">add_bindir</span>(<span class="ruby-ivar">@executables</span>),
            <span class="ruby-ivar">@extra_rdoc_files</span>,
            <span class="ruby-ivar">@extensions</span>,
           ].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-platform-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">platform=</span><span
            class="method-args">(platform)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The platform this gem runs on.</p>

<p>This is usually Gem::Platform::RUBY or Gem::Platform::CURRENT.</p>

<p>Most gems contain pure Ruby code; they should simply leave the default
value in place.  Some gems contain C (or other) code to be compiled into a
Ruby “extension”.  The gem should leave the default value in place unless
the code will only compile on a certain type of system.  Some gems consist
of pre-compiled code (“binary gems”).  It&#39;s especially important that
they set the platform attribute appropriately.  A shortcut is to set the
platform to Gem::Platform::CURRENT, which will cause the gem builder to set
the platform to the appropriate value for the system on which the build is
being performed.</p>

<p>If this attribute is set to a non-default value, it will be included in the
filename of the gem when it is built such as:
nokogiri-1.6.0-x86-mingw32.gem</p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">platform</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>.<span class="ruby-identifier">local</span>
</pre>
          
          

          
          <div class="method-source-code" id="platform-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 293</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">platform=</span> <span class="ruby-identifier">platform</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@original_platform</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span>
     <span class="ruby-ivar">@original_platform</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY</span> <span class="ruby-keyword">then</span>
    <span class="ruby-ivar">@original_platform</span> = <span class="ruby-identifier">platform</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">platform</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span><span class="ruby-operator">::</span><span class="ruby-constant">CURRENT</span> <span class="ruby-keyword">then</span>
    <span class="ruby-ivar">@new_platform</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>.<span class="ruby-identifier">local</span>
    <span class="ruby-ivar">@original_platform</span> = <span class="ruby-ivar">@new_platform</span>.<span class="ruby-identifier">to_s</span>

  <span class="ruby-keyword">when</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span> <span class="ruby-keyword">then</span>
    <span class="ruby-ivar">@new_platform</span> = <span class="ruby-identifier">platform</span>

  <span class="ruby-comment"># legacy constants</span>
  <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY</span> <span class="ruby-keyword">then</span>
    <span class="ruby-ivar">@new_platform</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;mswin32&#39;</span> <span class="ruby-keyword">then</span> <span class="ruby-comment"># was Gem::Platform::WIN32</span>
    <span class="ruby-ivar">@new_platform</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>.<span class="ruby-identifier">new</span> <span class="ruby-string">&#39;x86-mswin32&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;i586-linux&#39;</span> <span class="ruby-keyword">then</span> <span class="ruby-comment"># was Gem::Platform::LINUX_586</span>
    <span class="ruby-ivar">@new_platform</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>.<span class="ruby-identifier">new</span> <span class="ruby-string">&#39;x86-linux&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;powerpc-darwin&#39;</span> <span class="ruby-keyword">then</span> <span class="ruby-comment"># was Gem::Platform::DARWIN</span>
    <span class="ruby-ivar">@new_platform</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>.<span class="ruby-identifier">new</span> <span class="ruby-string">&#39;ppc-darwin&#39;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@new_platform</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">platform</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@platform</span> = <span class="ruby-ivar">@new_platform</span>.<span class="ruby-identifier">to_s</span>

  <span class="ruby-identifier">invalidate_memoized_attributes</span>

  <span class="ruby-ivar">@new_platform</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-require_paths-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">require_paths=</span><span
            class="method-args">(val)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Paths in the gem to add to <code>$LOAD_PATH</code> when this gem is
activated. If you have an extension you do not need to add
<code>&quot;ext&quot;</code> to the require path, the extension build
process will copy the extension files into “lib” for you.</p>

<p>The default value is <code>&quot;lib&quot;</code></p>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-comment"># If all library files are in the root directory...</span>
<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">require_paths</span> = [<span class="ruby-string">&#39;.&#39;</span>]
</pre>
          
          

          
          <div class="method-source-code" id="require_paths-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 226</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">require_paths=</span>(<span class="ruby-identifier">val</span>)
  <span class="ruby-ivar">@require_paths</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">val</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

  
  
  <section id="Specification+internals" class="documentation-section">
    
    <header class="documentation-section-title">
      <h2>
        Specification internals
      </h2>
      <span class="section-click-top">
        <a href="#top">&uarr; top</a>
      </span>
    </header>
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-activated" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">activated</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>True when this gemspec has been activated. This attribute is not persisted.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-activated-3F" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">activated?</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>True when this gemspec has been activated. This attribute is not persisted.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-default_executable" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">default_executable</span><span
            class="attribute-access-type">[W]</span>
        </div>

        <div class="method-description">
        
        <p>Sets the default executable for this gem.</p>

<p>Deprecated: You must now specify the executable name to  <a
href="../Gem.html#method-c-bin_path">Gem.bin_path</a>.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-rubyforge_project" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">rubyforge_project</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The rubyforge project this gem lives under.  i.e. RubyGems&#39; <a
href="Specification.html#attribute-i-rubyforge_project">#rubyforge_project</a>
is “rubygems”.</p>

<p>This option is deprecated.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-specification_version" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">specification_version</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The <a href="Specification.html">Gem::Specification</a> version of this
gemspec.</p>

<p>Do not set this, it is set automatically when the gem is packaged.</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-Specification+internals-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-_load" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_load</span><span
            class="method-args">(str)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Load custom marshal format, re-initializing defaults as needed</p>
          
          

          
          <div class="method-source-code" id="_load-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1306</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">_load</span>(<span class="ruby-identifier">str</span>)
  <span class="ruby-identifier">array</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span> <span class="ruby-identifier">str</span>

  <span class="ruby-identifier">spec</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@specification_version</span>, <span class="ruby-identifier">array</span>[<span class="ruby-value">1</span>]

  <span class="ruby-identifier">current_version</span> = <span class="ruby-constant">CURRENT_SPECIFICATION_VERSION</span>

  <span class="ruby-identifier">field_count</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">specification_version</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">current_version</span> <span class="ruby-keyword">then</span>
                  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@specification_version</span>,
                                             <span class="ruby-identifier">current_version</span>
                  <span class="ruby-constant">MARSHAL_FIELDS</span>[<span class="ruby-identifier">current_version</span>]
                <span class="ruby-keyword">else</span>
                  <span class="ruby-constant">MARSHAL_FIELDS</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">specification_version</span>]
                <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">array</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">field_count</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;invalid Gem::Specification format #{array.inspect}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Cleanup any YAML::PrivateType. They only show up for an old bug</span>
  <span class="ruby-comment"># where nil =&gt; null, so just convert them to nil based on the type.</span>

  <span class="ruby-identifier">array</span>.<span class="ruby-identifier">map!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-constant">PrivateType</span>) <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">e</span> }

  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@rubygems_version</span>,          <span class="ruby-identifier">array</span>[<span class="ruby-value">0</span>]
  <span class="ruby-comment"># spec version</span>
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@name</span>,                      <span class="ruby-identifier">array</span>[<span class="ruby-value">2</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@version</span>,                   <span class="ruby-identifier">array</span>[<span class="ruby-value">3</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">date</span> =                                             <span class="ruby-identifier">array</span>[<span class="ruby-value">4</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@summary</span>,                   <span class="ruby-identifier">array</span>[<span class="ruby-value">5</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@required_ruby_version</span>,     <span class="ruby-identifier">array</span>[<span class="ruby-value">6</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@required_rubygems_version</span>, <span class="ruby-identifier">array</span>[<span class="ruby-value">7</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@original_platform</span>,         <span class="ruby-identifier">array</span>[<span class="ruby-value">8</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@dependencies</span>,              <span class="ruby-identifier">array</span>[<span class="ruby-value">9</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@rubyforge_project</span>,         <span class="ruby-identifier">array</span>[<span class="ruby-value">10</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@email</span>,                     <span class="ruby-identifier">array</span>[<span class="ruby-value">11</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@authors</span>,                   <span class="ruby-identifier">array</span>[<span class="ruby-value">12</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@description</span>,               <span class="ruby-identifier">array</span>[<span class="ruby-value">13</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@homepage</span>,                  <span class="ruby-identifier">array</span>[<span class="ruby-value">14</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@has_rdoc</span>,                  <span class="ruby-identifier">array</span>[<span class="ruby-value">15</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@new_platform</span>,              <span class="ruby-identifier">array</span>[<span class="ruby-value">16</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@platform</span>,                  <span class="ruby-identifier">array</span>[<span class="ruby-value">16</span>].<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@license</span>,                   <span class="ruby-identifier">array</span>[<span class="ruby-value">17</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@metadata</span>,                  <span class="ruby-identifier">array</span>[<span class="ruby-value">18</span>]
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@loaded</span>,                    <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@activated</span>,                 <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">spec</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-add_spec" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_spec</span><span
            class="method-args">(spec)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Adds <code>spec</code> to the known specifications, keeping the collection
properly sorted.</p>
          
          

          
          <div class="method-source-code" id="add_spec-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 882</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">add_spec</span> <span class="ruby-identifier">spec</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;Gem::Specification.add_spec is deprecated and will be removed in Rubygems 3.0&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecate</span>.<span class="ruby-identifier">skip</span>
  <span class="ruby-comment"># TODO: find all extraneous adds</span>
  <span class="ruby-comment"># puts</span>
  <span class="ruby-comment"># p :add_spec =&gt; [spec.full_name, caller.reject { |s| s =~ /minitest/ }]</span>

  <span class="ruby-comment"># TODO: flush the rest of the crap from the tests</span>
  <span class="ruby-comment"># raise &quot;no dupes #{spec.full_name} in #{all_names.inspect}&quot; if</span>
  <span class="ruby-comment">#   _all.include? spec</span>

  <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;nil spec!&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">spec</span> <span class="ruby-comment"># TODO: remove once we&#39;re happy with tests</span>

  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">_all</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">spec</span>

  <span class="ruby-identifier">_all</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">spec</span>
  <span class="ruby-identifier">stubs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">spec</span>
  (<span class="ruby-identifier">@@stubs_by_name</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">spec</span>
  <span class="ruby-identifier">sort_by!</span>(<span class="ruby-identifier">@@stubs_by_name</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>]) { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">version</span> }
  <span class="ruby-identifier">_resort!</span>(<span class="ruby-identifier">_all</span>)
  <span class="ruby-identifier">_resort!</span>(<span class="ruby-identifier">stubs</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-add_specs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_specs</span><span
            class="method-args">(*specs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Adds multiple specs to the known specifications.</p>
          
          

          
          <div class="method-source-code" id="add_specs-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 907</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">add_specs</span> <span class="ruby-operator">*</span><span class="ruby-identifier">specs</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;Gem::Specification.add_specs is deprecated and will be removed in Rubygems 3.0&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecate</span>.<span class="ruby-identifier">skip</span>

  <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;nil spec!&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">any?</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:nil?</span>) <span class="ruby-comment"># TODO: remove once we&#39;re happy</span>

  <span class="ruby-comment"># TODO: this is much more efficient, but we need the extra checks for now</span>
  <span class="ruby-comment"># _all.concat specs</span>
  <span class="ruby-comment"># _resort!</span>

  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecate</span>.<span class="ruby-identifier">skip_during</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span> <span class="ruby-comment"># TODO: slow</span>
      <span class="ruby-identifier">add_spec</span> <span class="ruby-identifier">spec</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns all specifications. This method is discouraged from use. You
probably want to use one of the <a href="../Enumerable.html">Enumerable</a>
methods instead.</p>
          
          

          
          <div class="method-source-code" id="all-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 927</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">all</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;NOTE: Specification.all called from #{caller.first}&quot;</span> <span class="ruby-keyword">unless</span>
    <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecate</span>.<span class="ruby-identifier">skip</span>
  <span class="ruby-identifier">_all</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all=</span><span
            class="method-args">(specs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the known specs to <code>specs</code>. Not guaranteed to work for you
in the future. Use at your own risk. Caveat emptor. Doomy doom doom. <a
href="../Etc.html">Etc</a> etc.</p>
          
          

          
          <div class="method-source-code" id="all-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 945</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">all=</span> <span class="ruby-identifier">specs</span>
  <span class="ruby-identifier">@@stubs_by_name</span> = <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">group_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>)
  <span class="ruby-identifier">@@all</span> = <span class="ruby-identifier">@@stubs</span> = <span class="ruby-identifier">specs</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all_names" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_names</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return full names of all specs in sorted order.</p>
          
          

          
          <div class="method-source-code" id="all_names-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 953</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">all_names</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">_all</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:full_name</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-array_attributes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">array_attributes</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the list of all array-oriented instance variables.</p>
          
          

          
          <div class="method-source-code" id="array_attributes-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 962</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">array_attributes</span>
  <span class="ruby-identifier">@@array_attributes</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-attribute_names" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">attribute_names</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the list of all instance variables.</p>
          
          

          
          <div class="method-source-code" id="attribute_names-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 971</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attribute_names</span>
  <span class="ruby-identifier">@@attributes</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-dirs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dirs</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the directories that <a href="Specification.html">Specification</a>
uses to find specs.</p>
          
          

          
          <div class="method-source-code" id="dirs-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 978</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dirs</span>
  <span class="ruby-identifier">@@dirs</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">dir</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">untaint</span>, <span class="ruby-string">&quot;specifications&quot;</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-dirs-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dirs=</span><span
            class="method-args">(dirs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="../Set.html">Set</a> the directories that <a
href="Specification.html">Specification</a> uses to find specs. Setting
this resets the list of known specs.</p>
          
          

          
          <div class="method-source-code" id="dirs-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 988</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dirs=</span> <span class="ruby-identifier">dirs</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">reset</span>

  <span class="ruby-identifier">@@dirs</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">dirs</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;specifications&quot;</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-each" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">each</span><span
            class="method-args">() { |x| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Enumerate every known spec.  See <a
href="Specification.html#method-c-dirs-3D">::dirs=</a> and <a
href="Specification.html#method-c-add_spec">::add_spec</a> to set the list
of specs.</p>
          
          

          
          <div class="method-source-code" id="each-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1000</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">each</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">enum_for</span>(<span class="ruby-value">:each</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block_given?</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">_all</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">x</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-find_active_stub_by_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_active_stub_by_path</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="find_active_stub_by_path-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1053</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">find_active_stub_by_path</span> <span class="ruby-identifier">path</span>
  <span class="ruby-identifier">stub</span> = <span class="ruby-identifier">@@active_stub_with_requirable_file</span>[<span class="ruby-identifier">path</span>] <span class="ruby-operator">||=</span> (<span class="ruby-identifier">stubs</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">s</span>.<span class="ruby-identifier">activated?</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">contains_requirable_file?</span> <span class="ruby-identifier">path</span>
  } <span class="ruby-operator">||</span> <span class="ruby-constant">NOT_FOUND</span>)
  <span class="ruby-identifier">stub</span>.<span class="ruby-identifier">this</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-find_all_by_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_all_by_name</span><span
            class="method-args">(name, *requirements)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns every spec that matches <code>name</code> and optional
<code>requirements</code>.</p>
          
          

          
          <div class="method-source-code" id="find_all_by_name-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1011</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">find_all_by_name</span> <span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">requirements</span>
  <span class="ruby-identifier">requirements</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>.<span class="ruby-identifier">default</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">requirements</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-comment"># TODO: maybe try: find_all { |s| spec === dep }</span>

  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependency</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">requirements</span>).<span class="ruby-identifier">matching_specs</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-find_by_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_by_name</span><span
            class="method-args">(name, *requirements)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="../Find.html">Find</a> the best specification matching a
<code>name</code> and <code>requirements</code>. Raises if the dependency
doesn&#39;t resolve to a valid specification.</p>
          
          

          
          <div class="method-source-code" id="find_by_name-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1023</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">find_by_name</span> <span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">requirements</span>
  <span class="ruby-identifier">requirements</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>.<span class="ruby-identifier">default</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">requirements</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-comment"># TODO: maybe try: find { |s| spec === dep }</span>

  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependency</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">requirements</span>).<span class="ruby-identifier">to_spec</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-find_by_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_by_path</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the best specification that contains the file matching
<code>path</code>.</p>
          
          

          
          <div class="method-source-code" id="find_by_path-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1034</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">find_by_path</span> <span class="ruby-identifier">path</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">freeze</span>
  <span class="ruby-identifier">spec</span> = <span class="ruby-identifier">@@spec_with_requirable_file</span>[<span class="ruby-identifier">path</span>] <span class="ruby-operator">||=</span> (<span class="ruby-identifier">stubs</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">s</span>.<span class="ruby-identifier">contains_requirable_file?</span> <span class="ruby-identifier">path</span>
  } <span class="ruby-operator">||</span> <span class="ruby-constant">NOT_FOUND</span>)
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_spec</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-find_in_unresolved" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_in_unresolved</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return currently unresolved specs that contain the file matching
<code>path</code>.</p>
          
          

          
          <div class="method-source-code" id="find_in_unresolved-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1063</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">find_in_unresolved</span> <span class="ruby-identifier">path</span>
  <span class="ruby-comment"># TODO: do we need these?? Kill it</span>
  <span class="ruby-identifier">specs</span> = <span class="ruby-identifier">unresolved_deps</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">to_specs</span> }.<span class="ruby-identifier">flatten</span>

  <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">contains_requirable_file?</span> <span class="ruby-identifier">path</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-find_in_unresolved_tree" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_in_unresolved_tree</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Search through all unresolved deps and sub-dependencies and return specs
that contain the file matching <code>path</code>.</p>
          
          

          
          <div class="method-source-code" id="find_in_unresolved_tree-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1074</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">find_in_unresolved_tree</span> <span class="ruby-identifier">path</span>
  <span class="ruby-identifier">specs</span> = <span class="ruby-identifier">unresolved_deps</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">to_specs</span> }.<span class="ruby-identifier">flatten</span>

  <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">traverse</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">from_spec</span>, <span class="ruby-identifier">dep</span>, <span class="ruby-identifier">to_spec</span>, <span class="ruby-identifier">trail</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">to_spec</span>.<span class="ruby-identifier">has_conflicts?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">to_spec</span>.<span class="ruby-identifier">conficts_when_loaded_with?</span>(<span class="ruby-identifier">trail</span>)
        <span class="ruby-value">:next</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">trail</span>.<span class="ruby-identifier">reverse</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">to_spec</span>.<span class="ruby-identifier">contains_requirable_file?</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-find_inactive_by_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_inactive_by_path</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the best specification that contains the file matching
<code>path</code> amongst the specs that are not activated.</p>
          
          

          
          <div class="method-source-code" id="find_inactive_by_path-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1046</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">find_inactive_by_path</span> <span class="ruby-identifier">path</span>
  <span class="ruby-identifier">stub</span> = <span class="ruby-identifier">stubs</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">s</span>.<span class="ruby-identifier">contains_requirable_file?</span> <span class="ruby-identifier">path</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">activated?</span>
  }
  <span class="ruby-identifier">stub</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">stub</span>.<span class="ruby-identifier">to_spec</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-from_yaml" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">from_yaml</span><span
            class="method-args">(input)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Special loader for YAML files.  When a <a
href="Specification.html">Specification</a> object is loaded from a YAML
file, it bypasses the normal Ruby object initialization routine
(#initialize).  This method makes up for that and deals with gems of
different ages.</p>

<p><code>input</code> can be anything that YAML.load() accepts: String or <a
href="../IO.html">IO</a>.</p>
          
          

          
          <div class="method-source-code" id="from_yaml-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1098</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">from_yaml</span>(<span class="ruby-identifier">input</span>)
  <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">load_yaml</span>

  <span class="ruby-identifier">input</span> = <span class="ruby-identifier">normalize_yaml_input</span> <span class="ruby-identifier">input</span>
  <span class="ruby-identifier">spec</span> = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span> <span class="ruby-identifier">input</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">FalseClass</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">EndOfYAMLException</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Exception</span>, <span class="ruby-string">&quot;YAML data doesn&#39;t evaluate to gem specification&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">specification_version</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">NONEXISTENT_SPECIFICATION_VERSION</span>
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">reset_nil_attributes_to_default</span>

  <span class="ruby-identifier">spec</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-latest_specs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">latest_specs</span><span
            class="method-args">(prerelease = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the latest specs, optionally including prerelease specs if
<code>prerelease</code> is true.</p>
          
          

          
          <div class="method-source-code" id="latest_specs-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1122</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">latest_specs</span> <span class="ruby-identifier">prerelease</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">_latest_specs</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">_all</span>, <span class="ruby-identifier">prerelease</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-load" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load</span><span
            class="method-args">(file)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loads Ruby format gemspec from <code>file</code>.</p>
          
          

          
          <div class="method-source-code" id="load-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1149</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">load</span> <span class="ruby-identifier">file</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">file</span>

  <span class="ruby-identifier">_spec</span> = <span class="ruby-constant">LOAD_CACHE</span>[<span class="ruby-identifier">file</span>]
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">_spec</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">_spec</span>

  <span class="ruby-identifier">file</span> = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">untaint</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">file</span>)

  <span class="ruby-identifier">code</span> = <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span> <span class="ruby-constant">Encoding</span>
           <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span> <span class="ruby-identifier">file</span>, <span class="ruby-value">:mode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;r:UTF-8:-&#39;</span>
         <span class="ruby-keyword">else</span>
           <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span> <span class="ruby-identifier">file</span>
         <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">code</span>.<span class="ruby-identifier">untaint</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">_spec</span> = <span class="ruby-identifier">eval</span> <span class="ruby-identifier">code</span>, <span class="ruby-identifier">binding</span>, <span class="ruby-identifier">file</span>

    <span class="ruby-keyword">if</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">_spec</span>
      <span class="ruby-identifier">_spec</span>.<span class="ruby-identifier">loaded_from</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">to_s</span>
      <span class="ruby-constant">LOAD_CACHE</span>[<span class="ruby-identifier">file</span>] = <span class="ruby-identifier">_spec</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">_spec</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;[#{file}] isn&#39;t a Gem::Specification (#{_spec.class} instead).&quot;</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SignalException</span>, <span class="ruby-constant">SystemExit</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SyntaxError</span>, <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;Invalid gemspec in [#{file}]: #{e}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-load_defaults" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_defaults</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loads the default specifications. It should be called only once.</p>
          
          

          
          <div class="method-source-code" id="load_defaults-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 870</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">load_defaults</span>
  <span class="ruby-identifier">each_spec</span>([<span class="ruby-identifier">default_specifications_dir</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># #load returns nil if the spec is bad, so we just ignore</span>
    <span class="ruby-comment"># it at this stage</span>
    <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">register_default_spec</span>(<span class="ruby-identifier">spec</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(name = nil, version = nil) { |self| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Specification.html">Specification</a> constructor. Assigns the
default values to the attributes and yields itself for further
initialization.  Optionally takes <code>name</code> and
<code>version</code>.</p>
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="BasicSpecification.html#method-c-new">Gem::BasicSpecification.new</a>
            </div>
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2031</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span> <span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">version</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">super</span>()
  <span class="ruby-ivar">@gems_dir</span>              = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@base_dir</span>              = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@loaded</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@activated</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@loaded_from</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@original_platform</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@installed_by_version</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">@@nil_attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">instance_variable_set</span> <span class="ruby-node">&quot;@#{key}&quot;</span>, <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">@@non_nil_attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">default</span> = <span class="ruby-identifier">default_value</span>(<span class="ruby-identifier">key</span>)
    <span class="ruby-identifier">value</span> = <span class="ruby-constant">Dupable</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">default</span>.<span class="ruby-identifier">dup</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">default</span>
    <span class="ruby-identifier">instance_variable_set</span> <span class="ruby-node">&quot;@#{key}&quot;</span>, <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@new_platform</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">version</span> = <span class="ruby-identifier">version</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">version</span>

  <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-non_nil_attributes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">non_nil_attributes</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Specification.html">Specification</a> attributes that must be
non-nil</p>
          
          

          
          <div class="method-source-code" id="non_nil_attributes-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1188</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">non_nil_attributes</span>
  <span class="ruby-identifier">@@non_nil_attributes</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-normalize_yaml_input" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">normalize_yaml_input</span><span
            class="method-args">(input)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Make sure the YAML specification is properly formatted with dashes</p>
          
          

          
          <div class="method-source-code" id="normalize_yaml_input-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1195</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">normalize_yaml_input</span>(<span class="ruby-identifier">input</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-identifier">input</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:read</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">read</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">input</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-string">&quot;--- &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">result</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\A--- /</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-identifier">result</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">result</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/ !!null \n/</span>, <span class="ruby-string">&quot; \n&quot;</span>)
  <span class="ruby-comment"># date: 2011-04-26 00:00:00.000000000Z</span>
  <span class="ruby-comment"># date: 2011-04-26 00:00:00.000000000 Z</span>
  <span class="ruby-identifier">result</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/^(date: \d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}\.\d+?)Z/</span>, <span class="ruby-string">&#39;\1 Z&#39;</span>)
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-outdated" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">outdated</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a list of all outdated local gem names.  This method is HEAVY as it
must go fetch specifications from the server.</p>

<p>Use <a
href="Specification.html#method-c-outdated_and_latest_version">::outdated_and_latest_version</a>
if you wish to retrieve the latest remote version as well.</p>
          
          

          
          <div class="method-source-code" id="outdated-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1213</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">outdated</span>
  <span class="ruby-identifier">outdated_and_latest_version</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">local</span>, <span class="ruby-identifier">_</span><span class="ruby-operator">|</span> <span class="ruby-identifier">local</span>.<span class="ruby-identifier">name</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-outdated_and_latest_version" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">outdated_and_latest_version</span><span
            class="method-args">() { |local_spec, latest_remote| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Enumerates the outdated local gems yielding the local specification and the
latest remote version.</p>

<p>This method may take some time to return as it must check each local gem
against the server&#39;s index.</p>
          
          

          
          <div class="method-source-code" id="outdated_and_latest_version-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1224</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">outdated_and_latest_version</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">enum_for</span> <span class="ruby-identifier">__method__</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block_given?</span>

  <span class="ruby-comment"># TODO: maybe we should switch to rubygems&#39; version service?</span>
  <span class="ruby-identifier">fetcher</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">SpecFetcher</span>.<span class="ruby-identifier">fetcher</span>

  <span class="ruby-identifier">latest_specs</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">local_spec</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">dependency</span> =
      <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependency</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">local_spec</span>.<span class="ruby-identifier">name</span>, <span class="ruby-node">&quot;&gt;= #{local_spec.version}&quot;</span>

    <span class="ruby-identifier">remotes</span>, = <span class="ruby-identifier">fetcher</span>.<span class="ruby-identifier">search_for_dependency</span> <span class="ruby-identifier">dependency</span>
    <span class="ruby-identifier">remotes</span>  = <span class="ruby-identifier">remotes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span>, <span class="ruby-identifier">_</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">version</span> }

    <span class="ruby-identifier">latest_remote</span> = <span class="ruby-identifier">remotes</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">last</span>

    <span class="ruby-keyword">yield</span> [<span class="ruby-identifier">local_spec</span>, <span class="ruby-identifier">latest_remote</span>] <span class="ruby-keyword">if</span>
      <span class="ruby-identifier">latest_remote</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">local_spec</span>.<span class="ruby-identifier">version</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">latest_remote</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-remove_spec" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_spec</span><span
            class="method-args">(spec)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Removes <code>spec</code> from the known specs.</p>
          
          

          
          <div class="method-source-code" id="remove_spec-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1249</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">remove_spec</span> <span class="ruby-identifier">spec</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;Gem::Specification.remove_spec is deprecated and will be removed in Rubygems 3.0&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecate</span>.<span class="ruby-identifier">skip</span>
  <span class="ruby-identifier">_all</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">spec</span>
  <span class="ruby-identifier">stubs</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">full_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">full_name</span> }
  (<span class="ruby-identifier">@@stubs_by_name</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> []).<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">full_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">full_name</span> }
  <span class="ruby-identifier">reset</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-required_attribute-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">required_attribute?</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Is <code>name</code> a required attribute?</p>
          
          

          
          <div class="method-source-code" id="required_attribute-3F-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1260</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">required_attribute?</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">@@required_attributes</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-required_attributes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">required_attributes</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Required specification attributes</p>
          
          

          
          <div class="method-source-code" id="required_attributes-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1267</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">required_attributes</span>
  <span class="ruby-identifier">@@required_attributes</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-reset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reset</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Reset the list of known specs, running pre and post reset hooks registered
in Gem.</p>
          
          

          
          <div class="method-source-code" id="reset-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1275</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">reset</span>
  <span class="ruby-identifier">@@dirs</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">pre_reset_hooks</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hook</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hook</span>.<span class="ruby-identifier">call</span> }
  <span class="ruby-identifier">@@all</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">@@stubs</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">@@stubs_by_name</span> = {}
  <span class="ruby-identifier">@@spec_with_requirable_file</span>          = {}
  <span class="ruby-identifier">@@active_stub_with_requirable_file</span>   = {}
  <span class="ruby-identifier">_clear_load_cache</span>
  <span class="ruby-identifier">unresolved</span> = <span class="ruby-identifier">unresolved_deps</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">unresolved</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">w</span> = <span class="ruby-string">&quot;W&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;ARN&quot;</span>
    <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{w}: Unresolved specs during Gem::Specification.reset:&quot;</span>
    <span class="ruby-identifier">unresolved</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;      #{dep}&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{w}: Clearing out unresolved specs.&quot;</span>
    <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;Please report a bug if this causes problems.&quot;</span>
    <span class="ruby-identifier">unresolved</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">post_reset_hooks</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hook</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hook</span>.<span class="ruby-identifier">call</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-stubs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stubs</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a <a href="StubSpecification.html">Gem::StubSpecification</a> for
every installed gem</p>
          
          

          
          <div class="method-source-code" id="stubs-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 828</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">stubs</span>
  <span class="ruby-identifier">@@stubs</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">pattern</span> = <span class="ruby-string">&quot;*.gemspec&quot;</span>
    <span class="ruby-identifier">stubs</span> = <span class="ruby-identifier">default_stubs</span>(<span class="ruby-identifier">pattern</span>).<span class="ruby-identifier">concat</span> <span class="ruby-identifier">installed_stubs</span>(<span class="ruby-identifier">dirs</span>, <span class="ruby-identifier">pattern</span>)
    <span class="ruby-identifier">stubs</span> = <span class="ruby-identifier">uniq_by</span>(<span class="ruby-identifier">stubs</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">stub</span><span class="ruby-operator">|</span> <span class="ruby-identifier">stub</span>.<span class="ruby-identifier">full_name</span> }

    <span class="ruby-identifier">_resort!</span>(<span class="ruby-identifier">stubs</span>)
    <span class="ruby-identifier">@@stubs_by_name</span> = <span class="ruby-identifier">stubs</span>.<span class="ruby-identifier">group_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>)
    <span class="ruby-identifier">stubs</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-stubs_for" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stubs_for</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a <a href="StubSpecification.html">Gem::StubSpecification</a> for
installed gem named <code>name</code></p>
          
          

          
          <div class="method-source-code" id="stubs_for-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 845</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">stubs_for</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">@@stubs</span>
    <span class="ruby-identifier">@@stubs_by_name</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> []
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">pattern</span> = <span class="ruby-node">&quot;#{name}-*.gemspec&quot;</span>
    <span class="ruby-identifier">stubs</span> = <span class="ruby-identifier">default_stubs</span>(<span class="ruby-identifier">pattern</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">installed_stubs</span>(<span class="ruby-identifier">dirs</span>, <span class="ruby-identifier">pattern</span>)
    <span class="ruby-identifier">stubs</span> = <span class="ruby-identifier">uniq_by</span>(<span class="ruby-identifier">stubs</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">stub</span><span class="ruby-operator">|</span> <span class="ruby-identifier">stub</span>.<span class="ruby-identifier">full_name</span> }.<span class="ruby-identifier">group_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:name</span>)
    <span class="ruby-identifier">stubs</span>.<span class="ruby-identifier">each_value</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">_resort!</span>(<span class="ruby-identifier">v</span>) }

    <span class="ruby-identifier">@@stubs_by_name</span>.<span class="ruby-identifier">merge!</span> <span class="ruby-identifier">stubs</span>
    <span class="ruby-identifier">@@stubs_by_name</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">EMPTY</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-unresolved_deps" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unresolved_deps</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>DOC: This method needs documented or nodoc&#39;d</p>
          
          

          
          <div class="method-source-code" id="unresolved_deps-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1299</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">unresolved_deps</span>
  <span class="ruby-ivar">@unresolved_deps</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">n</span>] = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependency</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">n</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-class-Specification+internals-method-details" class="method-section">
       <header>
         <h3>Private Class Methods</h3>
       </header>

    
      <div id="method-c-default_stubs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_stubs</span><span
            class="method-args">(pattern)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="default_stubs-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 753</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_stubs</span> <span class="ruby-identifier">pattern</span>
  <span class="ruby-identifier">base_dir</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">default_dir</span>
  <span class="ruby-identifier">gems_dir</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">base_dir</span>, <span class="ruby-string">&quot;gems&quot;</span>
  <span class="ruby-identifier">gemspec_stubs_in</span>(<span class="ruby-identifier">default_specifications_dir</span>, <span class="ruby-identifier">pattern</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">StubSpecification</span>.<span class="ruby-identifier">default_gemspec_stub</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">base_dir</span>, <span class="ruby-identifier">gems_dir</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-gemspec_stubs_in" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">gemspec_stubs_in</span><span
            class="method-args">(dir, pattern) { |path }| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="gemspec_stubs_in-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 748</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">gemspec_stubs_in</span> <span class="ruby-identifier">dir</span>, <span class="ruby-identifier">pattern</span>
  <span class="ruby-constant">Dir</span>[<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">pattern</span>)].<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span> <span class="ruby-identifier">path</span> }.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:valid?</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-installed_stubs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">installed_stubs</span><span
            class="method-args">(dirs, pattern)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="installed_stubs-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 762</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">installed_stubs</span> <span class="ruby-identifier">dirs</span>, <span class="ruby-identifier">pattern</span>
  <span class="ruby-identifier">map_stubs</span>(<span class="ruby-identifier">dirs</span>, <span class="ruby-identifier">pattern</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">base_dir</span>, <span class="ruby-identifier">gems_dir</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">StubSpecification</span>.<span class="ruby-identifier">gemspec_stub</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">base_dir</span>, <span class="ruby-identifier">gems_dir</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-sort_by-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sort_by!</span><span
            class="method-args">(list, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="sort_by-21-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 808</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">sort_by!</span> <span class="ruby-identifier">list</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">sort_by!</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-Specification+internals-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-_dump" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_dump</span><span
            class="method-args">(limit)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Dump only crucial instance variables.</p>
          
          

          
          <div class="method-source-code" id="_dump-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1374</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">_dump</span>(<span class="ruby-identifier">limit</span>)
  <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">dump</span> [
    <span class="ruby-ivar">@rubygems_version</span>,
    <span class="ruby-ivar">@specification_version</span>,
    <span class="ruby-ivar">@name</span>,
    <span class="ruby-ivar">@version</span>,
    <span class="ruby-identifier">date</span>,
    <span class="ruby-ivar">@summary</span>,
    <span class="ruby-ivar">@required_ruby_version</span>,
    <span class="ruby-ivar">@required_rubygems_version</span>,
    <span class="ruby-ivar">@original_platform</span>,
    <span class="ruby-ivar">@dependencies</span>,
    <span class="ruby-ivar">@rubyforge_project</span>,
    <span class="ruby-ivar">@email</span>,
    <span class="ruby-ivar">@authors</span>,
    <span class="ruby-ivar">@description</span>,
    <span class="ruby-ivar">@homepage</span>,
    <span class="ruby-keyword">true</span>, <span class="ruby-comment"># has_rdoc</span>
    <span class="ruby-ivar">@new_platform</span>,
    <span class="ruby-ivar">@licenses</span>,
    <span class="ruby-ivar">@metadata</span>
  ]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-abbreviate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">abbreviate</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Abbreviate the spec for downloading.  Abbreviated specs are only used for
searching, downloading and related activities and do not need deployment
specific information (e.g. list of files).  So we abbreviate the spec,
making it much smaller for quicker downloads.</p>
          
          

          
          <div class="method-source-code" id="abbreviate-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1461</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">abbreviate</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">files</span> = []
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">test_files</span> = []
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">rdoc_options</span> = []
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">extra_rdoc_files</span> = []
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">cert_chain</span> = []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-activate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">activate</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Activate this spec, registering it as a loaded spec and adding it&#39;s lib
paths to $LOAD_PATH. Returns true if the spec was activated, false if it
was previously activated. Freaks out if there are conflicts upon
activation.</p>
          
          

          
          <div class="method-source-code" id="activate-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1404</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">activate</span>
  <span class="ruby-identifier">other</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">loaded_specs</span>[<span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">other</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">check_version_conflict</span> <span class="ruby-identifier">other</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">raise_if_conflicts</span>

  <span class="ruby-identifier">activate_dependencies</span>
  <span class="ruby-identifier">add_self_to_load_path</span>

  <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">loaded_specs</span>[<span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-keyword">self</span>
  <span class="ruby-ivar">@activated</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@loaded</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-activate_dependencies" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">activate_dependencies</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Activate all unambiguously resolved runtime dependencies of this spec. Add
any ambiguous dependencies to the unresolved list to be resolved later, as
needed.</p>
          
          

          
          <div class="method-source-code" id="activate_dependencies-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1428</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">activate_dependencies</span>
  <span class="ruby-identifier">unresolved</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">unresolved_deps</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">runtime_dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec_dep</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">loaded</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">loaded_specs</span>[<span class="ruby-identifier">spec_dep</span>.<span class="ruby-identifier">name</span>]
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec_dep</span>.<span class="ruby-identifier">matches_spec?</span> <span class="ruby-identifier">loaded</span>

      <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;can&#39;t satisfy &#39;#{spec_dep}&#39;, already activated &#39;#{loaded.full_name}&#39;&quot;</span>
      <span class="ruby-identifier">e</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">LoadError</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">msg</span>
      <span class="ruby-identifier">e</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">spec_dep</span>.<span class="ruby-identifier">name</span>

      <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">specs</span> = <span class="ruby-identifier">spec_dep</span>.<span class="ruby-identifier">to_specs</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">activate</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">name</span> = <span class="ruby-identifier">spec_dep</span>.<span class="ruby-identifier">name</span>
      <span class="ruby-identifier">unresolved</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">unresolved</span>[<span class="ruby-identifier">name</span>].<span class="ruby-identifier">merge</span> <span class="ruby-identifier">spec_dep</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">unresolved</span>.<span class="ruby-identifier">delete</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-add_bindir" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_bindir</span><span
            class="method-args">(executables)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an array with bindir attached to each executable in the
<code>executables</code> list</p>
          
          

          
          <div class="method-source-code" id="add_bindir-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1503</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_bindir</span>(<span class="ruby-identifier">executables</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">executables</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@bindir</span> <span class="ruby-keyword">then</span>
    <span class="ruby-constant">Array</span>(<span class="ruby-identifier">executables</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-ivar">@bindir</span>, <span class="ruby-identifier">e</span>) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">executables</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-add_dependency" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">add_dependency</span><span
            class="method-args">(gem, *requirements)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Specification.html#method-i-add_runtime_dependency">add_runtime_dependency</a>
        </div>
        
      </div>

    
      <div id="method-i-add_self_to_load_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_self_to_load_path</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Adds this spec&#39;s require paths to LOAD_PATH, in the proper location.</p>
          
          

          
          <div class="method-source-code" id="add_self_to_load_path-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1542</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_self_to_load_path</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">default_gem?</span>

  <span class="ruby-identifier">paths</span> = <span class="ruby-identifier">full_require_paths</span>

  <span class="ruby-comment"># gem directories must come after -I and ENV[&#39;RUBYLIB&#39;]</span>
  <span class="ruby-identifier">insert_index</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">load_path_insert_index</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">insert_index</span> <span class="ruby-keyword">then</span>
    <span class="ruby-comment"># gem directories must come after -I and ENV[&#39;RUBYLIB&#39;]</span>
    <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-identifier">insert_index</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">paths</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># we are probably testing in core, -I and RUBYLIB don&#39;t apply</span>
    <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">paths</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-author" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">author</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Singular reader for <a
href="Specification.html#method-i-authors">authors</a>.  Returns the first
author in the list</p>
          
          

          
          <div class="method-source-code" id="author-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1562</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">author</span>
  <span class="ruby-identifier">val</span> = <span class="ruby-identifier">authors</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-authors" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">authors</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The list of author names who wrote this gem.</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">authors</span> = [<span class="ruby-string">&#39;Chad Fowler&#39;</span>, <span class="ruby-string">&#39;Jim Weirich&#39;</span>, <span class="ruby-string">&#39;Rich Kilmer&#39;</span>]
</pre>
          
          

          
          <div class="method-source-code" id="authors-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1571</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">authors</span>
  <span class="ruby-ivar">@authors</span> <span class="ruby-operator">||=</span> []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-base_dir" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">base_dir</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="base_dir-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2084</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">base_dir</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">dir</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">loaded_from</span>
  <span class="ruby-ivar">@base_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">default_gem?</span> <span class="ruby-keyword">then</span>
                  <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span> <span class="ruby-identifier">loaded_from</span>
                <span class="ruby-keyword">else</span>
                  <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span> <span class="ruby-identifier">loaded_from</span>
                <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-bin_dir" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bin_dir</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the full path to installed gem&#39;s bin directory.</p>

<p>NOTE: do not confuse this with <code>bindir</code>, which is just
&#39;bin&#39;, not a full path.</p>
          
          

          
          <div class="method-source-code" id="bin_dir-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1581</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bin_dir</span>
  <span class="ruby-ivar">@bin_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">gem_dir</span>, <span class="ruby-identifier">bindir</span> <span class="ruby-comment"># TODO: this is unfortunate</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-bin_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bin_file</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the full path to an executable named <code>name</code> in this gem.</p>
          
          

          
          <div class="method-source-code" id="bin_file-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1588</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bin_file</span> <span class="ruby-identifier">name</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">bin_dir</span>, <span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-build_args" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">build_args</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the <a
href="Specification.html#method-i-build_args">#build_args</a> used to
install the gem</p>
          
          

          
          <div class="method-source-code" id="build_args-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1595</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">build_args</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-identifier">build_info_file</span>
    <span class="ruby-identifier">build_info</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">readlines</span> <span class="ruby-identifier">build_info_file</span>
    <span class="ruby-identifier">build_info</span> = <span class="ruby-identifier">build_info</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">strip</span> }
    <span class="ruby-identifier">build_info</span>.<span class="ruby-identifier">delete</span> <span class="ruby-string">&quot;&quot;</span>
    <span class="ruby-identifier">build_info</span>
  <span class="ruby-keyword">else</span>
    []
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-build_info_dir" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">build_info_dir</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the full path to the build info directory</p>
          
          

          
          <div class="method-source-code" id="build_info_dir-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1642</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">build_info_dir</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">base_dir</span>, <span class="ruby-string">&quot;build_info&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-build_info_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">build_info_file</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the full path to the file containing the build information
generated when the gem was installed</p>
          
          

          
          <div class="method-source-code" id="build_info_file-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1650</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">build_info_file</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">build_info_dir</span>, <span class="ruby-node">&quot;#{full_name}.info&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-bundled_gem_in_old_ruby-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bundled_gem_in_old_ruby?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Used to detect if the gem is bundled in older version of Ruby, but not
detectable as default gem (see BasicSpecification#default_gem?).</p>
          
          

          
          <div class="method-source-code" id="bundled_gem_in_old_ruby-3F-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1658</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bundled_gem_in_old_ruby?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">default_gem?</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-constant">RUBY_VERSION</span> <span class="ruby-operator">&lt;</span> <span class="ruby-string">&quot;2.0.0&quot;</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">summary</span> <span class="ruby-operator">==</span> <span class="ruby-node">&quot;This #{name} is bundled with Ruby&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cache_dir" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cache_dir</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the full path to the cache directory containing this spec&#39;s
cached gem.</p>
          
          

          
          <div class="method-source-code" id="cache_dir-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1668</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cache_dir</span>
  <span class="ruby-ivar">@cache_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">base_dir</span>, <span class="ruby-string">&quot;cache&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cache_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cache_file</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the full path to the cached gem for this spec.</p>
          
          

          
          <div class="method-source-code" id="cache_file-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1675</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cache_file</span>
  <span class="ruby-ivar">@cache_file</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">cache_dir</span>, <span class="ruby-node">&quot;#{full_name}.gem&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-conflicts" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">conflicts</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return any possible conflicts against the currently loaded specs.</p>
          
          

          
          <div class="method-source-code" id="conflicts-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1682</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">conflicts</span>
  <span class="ruby-identifier">conflicts</span> = {}
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">runtime_dependencies</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">spec</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">loaded_specs</span>[<span class="ruby-identifier">dep</span>.<span class="ruby-identifier">name</span>]
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">satisfies_requirement?</span> <span class="ruby-identifier">dep</span>
      (<span class="ruby-identifier">conflicts</span>[<span class="ruby-identifier">spec</span>] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">dep</span>
    <span class="ruby-keyword">end</span>
  }
  <span class="ruby-identifier">env_req</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">env_requirement</span>(<span class="ruby-identifier">name</span>)
  (<span class="ruby-identifier">conflicts</span>[<span class="ruby-keyword">self</span>] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">env_req</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">env_req</span>.<span class="ruby-identifier">satisfied_by?</span> <span class="ruby-identifier">version</span>
  <span class="ruby-identifier">conflicts</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-date" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">date</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The date this gem was created.  Lazily defaults to the current UTC date.</p>

<p>There is no need to set this in your gem specification.</p>
          
          

          
          <div class="method-source-code" id="date-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1725</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">date</span>
  <span class="ruby-ivar">@date</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">TODAY</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-date-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">date=</span><span
            class="method-args">(date)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The date this gem was created</p>

<p>DO NOT set this, it is set automatically when the gem is packaged.</p>
          
          

          
          <div class="method-source-code" id="date-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1745</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">date=</span> <span class="ruby-identifier">date</span>
  <span class="ruby-comment"># We want to end up with a Time object with one-day resolution.</span>
  <span class="ruby-comment"># This is the cleanest, most-readable, faster-than-using-Date</span>
  <span class="ruby-comment"># way to do it.</span>
  <span class="ruby-ivar">@date</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">date</span>
          <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span> <span class="ruby-keyword">then</span>
            <span class="ruby-keyword">if</span> <span class="ruby-constant">DateTimeFormat</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span> <span class="ruby-keyword">then</span>
              <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-node">$1</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-node">$2</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-node">$3</span>.<span class="ruby-identifier">to_i</span>)

            <span class="ruby-comment"># Workaround for where the date format output from psych isn&#39;t</span>
            <span class="ruby-comment"># parsed as a Time object by syck and thus comes through as a</span>
            <span class="ruby-comment"># string.</span>
            <span class="ruby-keyword">elsif</span> <span class="ruby-regexp">/\A(\d{4})-(\d{2})-(\d{2}) \d{2}:\d{2}:\d{2}\.\d+?Z\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span> <span class="ruby-keyword">then</span>
              <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-node">$1</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-node">$2</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-node">$3</span>.<span class="ruby-identifier">to_i</span>)
            <span class="ruby-keyword">else</span>
              <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
                    <span class="ruby-node">&quot;invalid date format in specification: #{date.inspect}&quot;</span>)
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">when</span> <span class="ruby-constant">Time</span>, <span class="ruby-constant">DateLike</span> <span class="ruby-keyword">then</span>
            <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">date</span>.<span class="ruby-identifier">year</span>, <span class="ruby-identifier">date</span>.<span class="ruby-identifier">month</span>, <span class="ruby-identifier">date</span>.<span class="ruby-identifier">day</span>)
          <span class="ruby-keyword">else</span>
            <span class="ruby-constant">TODAY</span>
          <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-default_value" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_value</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The default value for specification attribute <code>name</code></p>
          
          

          
          <div class="method-source-code" id="default_value-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1790</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_value</span> <span class="ruby-identifier">name</span>
  <span class="ruby-identifier">@@default_value</span>[<span class="ruby-identifier">name</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-dependencies" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dependencies</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A list of <a href="Dependency.html">Gem::Dependency</a> objects this gem
depends on.</p>

<p>Use <a href="Specification.html#method-i-add_dependency">add_dependency</a>
or <a
href="Specification.html#method-i-add_development_dependency">add_development_dependency</a>
to add dependencies to a gem.</p>
          
          

          
          <div class="method-source-code" id="dependencies-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1800</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dependencies</span>
  <span class="ruby-ivar">@dependencies</span> <span class="ruby-operator">||=</span> []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-dependent_gems" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dependent_gems</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a list of all gems that have a dependency on this gemspec.  The list
is structured with entries that conform to:</p>

<pre class="ruby">[<span class="ruby-identifier">depending_gem</span>, <span class="ruby-identifier">dependency</span>, [<span class="ruby-identifier">list_of_gems_that_satisfy_dependency</span>]]
</pre>
          
          

          
          <div class="method-source-code" id="dependent_gems-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1810</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dependent_gems</span>
  <span class="ruby-identifier">out</span> = []
  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">satisfies_requirement?</span>(<span class="ruby-identifier">dep</span>) <span class="ruby-keyword">then</span>
        <span class="ruby-identifier">sats</span> = []
        <span class="ruby-identifier">find_all_satisfiers</span>(<span class="ruby-identifier">dep</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sat</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">sats</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sat</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">dep</span>, <span class="ruby-identifier">sats</span>]
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-dependent_specs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dependent_specs</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns all specs that matches this spec&#39;s runtime dependencies.</p>
          
          

          
          <div class="method-source-code" id="dependent_specs-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1829</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dependent_specs</span>
  <span class="ruby-identifier">runtime_dependencies</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">to_specs</span> }.<span class="ruby-identifier">flatten</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-description-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">description=</span><span
            class="method-args">(str)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A detailed description of this gem.  See also <a
href="Specification.html#attribute-i-summary">summary</a></p>
          
          

          
          <div class="method-source-code" id="description-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1836</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">description=</span> <span class="ruby-identifier">str</span>
  <span class="ruby-ivar">@description</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-development_dependencies" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">development_dependencies</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>List of dependencies that are used for development</p>
          
          

          
          <div class="method-source-code" id="development_dependencies-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1843</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">development_dependencies</span>
  <span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:development</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-doc_dir" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">doc_dir</span><span
            class="method-args">(type = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the full path to this spec&#39;s documentation directory.  If
<code>type</code> is given it will be appended to the end.  For example:</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">doc_dir</span>      <span class="ruby-comment"># =&gt; &quot;/path/to/gem_repo/doc/a-1&quot;</span>

<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">doc_dir</span> <span class="ruby-string">&#39;ri&#39;</span> <span class="ruby-comment"># =&gt; &quot;/path/to/gem_repo/doc/a-1/ri&quot;</span>
</pre>
          
          

          
          <div class="method-source-code" id="doc_dir-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1855</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">doc_dir</span> <span class="ruby-identifier">type</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@doc_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">base_dir</span>, <span class="ruby-string">&#39;doc&#39;</span>, <span class="ruby-identifier">full_name</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">type</span> <span class="ruby-keyword">then</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-ivar">@doc_dir</span>, <span class="ruby-identifier">type</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@doc_dir</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-executable" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">executable</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Singular accessor for <a
href="Specification.html#method-i-executables">executables</a></p>
          
          

          
          <div class="method-source-code" id="executable-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1893</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">executable</span>
  <span class="ruby-identifier">val</span> = <span class="ruby-identifier">executables</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-executable-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">executable=</span><span
            class="method-args">(o)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Singular accessor for <a
href="Specification.html#method-i-executables">executables</a></p>
          
          

          
          <div class="method-source-code" id="executable-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1900</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">executable=</span><span class="ruby-identifier">o</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">executables</span> = [<span class="ruby-identifier">o</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-executables-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">executables=</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets executables to <code>value</code>, ensuring it is an array. Don&#39;t
use this, push onto the array instead.</p>
          
          

          
          <div class="method-source-code" id="executables-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1908</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">executables=</span> <span class="ruby-identifier">value</span>
  <span class="ruby-comment"># TODO: warn about setting instead of pushing</span>
  <span class="ruby-ivar">@executables</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-extensions-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extensions=</span><span
            class="method-args">(extensions)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets extensions to <code>extensions</code>, ensuring it is an array.
Don&#39;t use this, push onto the array instead.</p>
          
          

          
          <div class="method-source-code" id="extensions-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1917</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extensions=</span> <span class="ruby-identifier">extensions</span>
  <span class="ruby-comment"># TODO: warn about setting instead of pushing</span>
  <span class="ruby-ivar">@extensions</span> = <span class="ruby-constant">Array</span> <span class="ruby-identifier">extensions</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-extra_rdoc_files-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extra_rdoc_files=</span><span
            class="method-args">(files)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets <a
href="Specification.html#method-i-extra_rdoc_files">#extra_rdoc_files</a>
to <code>files</code>, ensuring it is an array. Don&#39;t use this, push
onto the array instead.</p>
          
          

          
          <div class="method-source-code" id="extra_rdoc_files-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1926</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extra_rdoc_files=</span> <span class="ruby-identifier">files</span>
  <span class="ruby-comment"># TODO: warn about setting instead of pushing</span>
  <span class="ruby-ivar">@extra_rdoc_files</span> = <span class="ruby-constant">Array</span> <span class="ruby-identifier">files</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-file_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">file_name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The default (generated) file name of the gem.  See also <a
href="Specification.html#method-i-spec_name">spec_name</a>.</p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">file_name</span> <span class="ruby-comment"># =&gt; &quot;example-1.0.gem&quot;</span>
</pre>
          
          

          
          <div class="method-source-code" id="file_name-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1936</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">file_name</span>
  <span class="ruby-node">&quot;#{full_name}.gem&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-files-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">files=</span><span
            class="method-args">(files)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets files to <code>files</code>, ensuring it is an array.</p>
          
          

          
          <div class="method-source-code" id="files-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1943</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">files=</span> <span class="ruby-identifier">files</span>
  <span class="ruby-ivar">@files</span> = <span class="ruby-constant">Array</span> <span class="ruby-identifier">files</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-for_cache" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">for_cache</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a duplicate spec without large blobs that aren&#39;t used at
runtime.</p>
          
          

          
          <div class="method-source-code" id="for_cache-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1961</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">for_cache</span>
  <span class="ruby-identifier">spec</span> = <span class="ruby-identifier">dup</span>

  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">files</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">test_files</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">spec</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-full_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">full_name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="BasicSpecification.html#method-i-full_name">Gem::BasicSpecification#full_name</a>
            </div>
          

          
          <div class="method-source-code" id="full_name-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1970</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">full_name</span>
  <span class="ruby-ivar">@full_name</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">super</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-gems_dir" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">gems_dir</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="gems_dir-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1981</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">gems_dir</span>
  <span class="ruby-comment"># TODO: this logic seems terribly broken, but tests fail if just base_dir</span>
  <span class="ruby-ivar">@gems_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loaded_from</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">base_dir</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;gems&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-has_conflicts-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">has_conflicts?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return true if there are possible conflicts against the currently loaded
specs.</p>
          
          

          
          <div class="method-source-code" id="has_conflicts-3F-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1708</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_conflicts?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">env_requirement</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">satisfied_by?</span>(<span class="ruby-identifier">version</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">runtime?</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">spec</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">loaded_specs</span>[<span class="ruby-identifier">dep</span>.<span class="ruby-identifier">name</span>]
      <span class="ruby-identifier">spec</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">satisfies_requirement?</span> <span class="ruby-identifier">dep</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-initialize_copy" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">initialize_copy</span><span
            class="method-args">(other_spec)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Duplicates <a
href="Specification.html#method-c-array_attributes">::array_attributes</a>
from <code>other_spec</code> so state isn&#39;t shared.</p>
          
          

          
          <div class="method-source-code" id="initialize_copy-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2062</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize_copy</span> <span class="ruby-identifier">other_spec</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">array_attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-value">:&quot;@#{name}&quot;</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">other_spec</span>.<span class="ruby-identifier">instance_variable_defined?</span> <span class="ruby-identifier">name</span>

    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">val</span> = <span class="ruby-identifier">other_spec</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-identifier">name</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">val</span> <span class="ruby-keyword">then</span>
        <span class="ruby-identifier">instance_variable_set</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">val</span>.<span class="ruby-identifier">dup</span>
      <span class="ruby-keyword">elsif</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">really_verbose</span>
        <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;WARNING: #{full_name} has an invalid nil value for #{name}&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">TypeError</span>
      <span class="ruby-identifier">e</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">FormatException</span>.<span class="ruby-identifier">new</span>            <span class="ruby-node">&quot;#{full_name} has an invalid value for #{name}&quot;</span>

      <span class="ruby-identifier">e</span>.<span class="ruby-identifier">file_path</span> = <span class="ruby-identifier">loaded_from</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-lib_files" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lib_files</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Files in the Gem under one of the require_paths</p>
          
          

          
          <div class="method-source-code" id="lib_files-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2115</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lib_files</span>
  <span class="ruby-ivar">@files</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">require_paths</span>.<span class="ruby-identifier">any?</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">start_with?</span> <span class="ruby-identifier">path</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-license" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">license</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Singular accessor for <a
href="Specification.html#method-i-licenses">licenses</a></p>
          
          

          
          <div class="method-source-code" id="license-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2126</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">license</span>
  <span class="ruby-identifier">licenses</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-licenses" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">licenses</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Plural accessor for setting licenses</p>

<p>See <a href="Specification.html#method-i-license-3D">license=</a> for
details</p>
          
          

          
          <div class="method-source-code" id="licenses-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2135</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">licenses</span>
  <span class="ruby-ivar">@licenses</span> <span class="ruby-operator">||=</span> []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-mark_version" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mark_version</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the <a
href="Specification.html#attribute-i-rubygems_version">#rubygems_version</a>
to the current RubyGems version.</p>
          
          

          
          <div class="method-source-code" id="mark_version-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2153</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mark_version</span>
  <span class="ruby-ivar">@rubygems_version</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-missing_extensions-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">missing_extensions?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Is this specification missing its extensions?  When this returns true you
probably want to build_extensions</p>
          
          

          
          <div class="method-source-code" id="missing_extensions-3F-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2173</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">missing_extensions?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">default_gem?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">extensions</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">installed_by_version</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;2.2.0.preview.2&#39;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-identifier">gem_build_complete_path</span>

  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-name_tuple" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">name_tuple</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a NameTuple that represents this <a
href="Specification.html">Specification</a></p>
          
          

          
          <div class="method-source-code" id="name_tuple-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2205</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">name_tuple</span>
  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">NameTuple</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>, <span class="ruby-identifier">original_platform</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-normalize" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">normalize</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Normalize the list of files so that:</p>
<ul><li>
<p>All file lists have redundancies removed.</p>
</li><li>
<p>Files referenced in the <a
href="Specification.html#method-i-extra_rdoc_files">#extra_rdoc_files</a>
are included in the package file list.</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="normalize-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2188</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">normalize</span>
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@extra_rdoc_files</span>) <span class="ruby-keyword">and</span> <span class="ruby-ivar">@extra_rdoc_files</span> <span class="ruby-keyword">then</span>
    <span class="ruby-ivar">@extra_rdoc_files</span>.<span class="ruby-identifier">uniq!</span>
    <span class="ruby-ivar">@files</span> <span class="ruby-operator">||=</span> []
    <span class="ruby-ivar">@files</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-ivar">@extra_rdoc_files</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@files</span>            = <span class="ruby-ivar">@files</span>.<span class="ruby-identifier">uniq</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@files</span>
  <span class="ruby-ivar">@extensions</span>       = <span class="ruby-ivar">@extensions</span>.<span class="ruby-identifier">uniq</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@extensions</span>
  <span class="ruby-ivar">@test_files</span>       = <span class="ruby-ivar">@test_files</span>.<span class="ruby-identifier">uniq</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@test_files</span>
  <span class="ruby-ivar">@executables</span>      = <span class="ruby-ivar">@executables</span>.<span class="ruby-identifier">uniq</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@executables</span>
  <span class="ruby-ivar">@extra_rdoc_files</span> = <span class="ruby-ivar">@extra_rdoc_files</span>.<span class="ruby-identifier">uniq</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@extra_rdoc_files</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-platform" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">platform</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The platform this gem runs on.  See <a
href="Platform.html">Gem::Platform</a> for details.</p>
          
          

          
          <div class="method-source-code" id="platform-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2231</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">platform</span>
  <span class="ruby-ivar">@new_platform</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rdoc_options-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rdoc_options=</span><span
            class="method-args">(options)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets <a href="Specification.html#method-i-rdoc_options">#rdoc_options</a>
to <code>value</code>, ensuring it is an array. Don&#39;t use this, push
onto the array instead.</p>
          
          

          
          <div class="method-source-code" id="rdoc_options-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2299</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rdoc_options=</span> <span class="ruby-identifier">options</span>
  <span class="ruby-comment"># TODO: warn about setting instead of pushing</span>
  <span class="ruby-ivar">@rdoc_options</span> = <span class="ruby-constant">Array</span> <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-require_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">require_path</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Singular accessor for <a
href="BasicSpecification.html#method-i-require_paths">require_paths</a></p>
          
          

          
          <div class="method-source-code" id="require_path-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2307</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">require_path</span>
  <span class="ruby-identifier">val</span> = <span class="ruby-identifier">require_paths</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-require_path-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">require_path=</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Singular accessor for <a
href="BasicSpecification.html#method-i-require_paths">require_paths</a></p>
          
          

          
          <div class="method-source-code" id="require_path-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2314</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">require_path=</span> <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">require_paths</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">path</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-requirements-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">requirements=</span><span
            class="method-args">(req)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="../Set.html">Set</a> requirements to <code>req</code>, ensuring it
is an array. Don&#39;t use this, push onto the array instead.</p>
          
          

          
          <div class="method-source-code" id="requirements-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2322</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">requirements=</span> <span class="ruby-identifier">req</span>
  <span class="ruby-comment"># TODO: warn about setting instead of pushing</span>
  <span class="ruby-ivar">@requirements</span> = <span class="ruby-constant">Array</span> <span class="ruby-identifier">req</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-reset_nil_attributes_to_default" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reset_nil_attributes_to_default</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Reset nil attributes to their default values to make the spec valid</p>
          
          

          
          <div class="method-source-code" id="reset_nil_attributes_to_default-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2988</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reset_nil_attributes_to_default</span>
  <span class="ruby-identifier">nil_attributes</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">non_nil_attributes</span>.<span class="ruby-identifier">find_all</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-operator">!</span><span class="ruby-identifier">instance_variable_defined?</span>(<span class="ruby-node">&quot;@#{name}&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-node">&quot;@#{name}&quot;</span>).<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">nil_attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attribute</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">default</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_value</span> <span class="ruby-identifier">attribute</span>

    <span class="ruby-identifier">value</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">default</span>
            <span class="ruby-keyword">when</span> <span class="ruby-constant">Time</span>, <span class="ruby-constant">Numeric</span>, <span class="ruby-constant">Symbol</span>, <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">default</span>
            <span class="ruby-keyword">else</span> <span class="ruby-identifier">default</span>.<span class="ruby-identifier">dup</span>
            <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">instance_variable_set</span> <span class="ruby-node">&quot;@#{attribute}&quot;</span>, <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@installed_by_version</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ri_dir" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ri_dir</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the full path to this spec&#39;s ri directory.</p>
          
          

          
          <div class="method-source-code" id="ri_dir-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2334</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ri_dir</span>
  <span class="ruby-ivar">@ri_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">base_dir</span>, <span class="ruby-string">&#39;ri&#39;</span>, <span class="ruby-identifier">full_name</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-runtime_dependencies" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">runtime_dependencies</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>List of dependencies that will automatically be activated at runtime.</p>
          
          

          
          <div class="method-source-code" id="runtime_dependencies-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2367</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">runtime_dependencies</span>
  <span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:runtime?</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sanitize" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sanitize</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sanitize the descriptive fields in the spec.  Sometimes non-ASCII
characters will garble the site index.  Non-ASCII characters will be
replaced by their <a href="../XML.html">XML</a> entity equivalent.</p>
          
          

          
          <div class="method-source-code" id="sanitize-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1474</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sanitize</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">summary</span>              = <span class="ruby-identifier">sanitize_string</span>(<span class="ruby-identifier">summary</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">description</span>          = <span class="ruby-identifier">sanitize_string</span>(<span class="ruby-identifier">description</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">post_install_message</span> = <span class="ruby-identifier">sanitize_string</span>(<span class="ruby-identifier">post_install_message</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">authors</span>              = <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sanitize_string</span>(<span class="ruby-identifier">a</span>) }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sanitize_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sanitize_string</span><span
            class="method-args">(string)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sanitize a single string.</p>
          
          

          
          <div class="method-source-code" id="sanitize_string-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1484</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sanitize_string</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">string</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">string</span>

  <span class="ruby-comment"># HACK the #to_s is in here because RSpec has an Array of Arrays of</span>
  <span class="ruby-comment"># Strings for authors.  Need a way to disallow bad values on gemspec</span>
  <span class="ruby-comment"># generation.  (Probably won&#39;t happen.)</span>
  <span class="ruby-identifier">string</span> = <span class="ruby-identifier">string</span>.<span class="ruby-identifier">to_s</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-constant">Builder</span><span class="ruby-operator">::</span><span class="ruby-constant">XChar</span>.<span class="ruby-identifier">encode</span> <span class="ruby-identifier">string</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span>, <span class="ruby-constant">NoMethodError</span>
    <span class="ruby-identifier">string</span>.<span class="ruby-identifier">to_xs</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-satisfies_requirement-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">satisfies_requirement?</span><span
            class="method-args">(dependency)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks if this specification meets the requirement of
<code>dependency</code>.</p>
          
          

          
          <div class="method-source-code" id="satisfies_requirement-3F-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2383</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">satisfies_requirement?</span> <span class="ruby-identifier">dependency</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">dependency</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">dependency</span>.<span class="ruby-identifier">requirement</span>.<span class="ruby-identifier">satisfied_by?</span>(<span class="ruby-ivar">@version</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sort_obj" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sort_obj</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an object you can use to sort specifications in sort_by.</p>
          
          

          
          <div class="method-source-code" id="sort_obj-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2391</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sort_obj</span>
  [<span class="ruby-ivar">@name</span>, <span class="ruby-ivar">@version</span>, <span class="ruby-ivar">@new_platform</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY</span> <span class="ruby-operator">?</span> <span class="ruby-value">-1</span> <span class="ruby-operator">:</span> <span class="ruby-value">1</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-spec_dir" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">spec_dir</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the full path to the directory containing this spec&#39;s gemspec
file. eg: /usr/local/lib/ruby/gems/1.8/specifications</p>
          
          

          
          <div class="method-source-code" id="spec_dir-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2406</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">spec_dir</span>
  <span class="ruby-ivar">@spec_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">base_dir</span>, <span class="ruby-string">&quot;specifications&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-spec_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">spec_file</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the full path to this spec&#39;s gemspec file. eg:
/usr/local/lib/ruby/gems/1.8/specifications/mygem-1.0.gemspec</p>
          
          

          
          <div class="method-source-code" id="spec_file-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2414</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">spec_file</span>
  <span class="ruby-ivar">@spec_file</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">spec_dir</span>, <span class="ruby-node">&quot;#{full_name}.gemspec&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-spec_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">spec_name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The default name of the gemspec.  See also <a
href="Specification.html#method-i-file_name">file_name</a></p>

<pre class="ruby"><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">spec_name</span> <span class="ruby-comment"># =&gt; &quot;example-1.0.gemspec&quot;</span>
</pre>
          
          

          
          <div class="method-source-code" id="spec_name-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2423</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">spec_name</span>
  <span class="ruby-node">&quot;#{full_name}.gemspec&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-stubbed-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stubbed?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="stubbed-3F-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2966</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stubbed?</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-summary-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">summary=</span><span
            class="method-args">(str)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A short summary of this gem&#39;s description.</p>
          
          

          
          <div class="method-source-code" id="summary-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2430</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">summary=</span> <span class="ruby-identifier">str</span>
  <span class="ruby-ivar">@summary</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>.
    <span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/(\w-)\n[ \t]*(\w)/</span>, <span class="ruby-string">&#39;\1\2&#39;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\n[ \t]*/</span>, <span class="ruby-string">&quot; &quot;</span>) <span class="ruby-comment"># so. weird.</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_ruby" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_ruby</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a Ruby code representation of this specification, such that it can
be eval&#39;ed and reconstruct the same specification later.  Attributes
that still have their default values are omitted.</p>
          
          

          
          <div class="method-source-code" id="to_ruby-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2473</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_ruby</span>
  <span class="ruby-identifier">mark_version</span>
  <span class="ruby-identifier">result</span> = []
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;# -*- encoding: utf-8 -*-&quot;</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{Gem::StubSpecification::PREFIX}#{name} #{version} #{platform} #{raw_require_paths.join(&quot;\0&quot;)}&quot;</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{Gem::StubSpecification::PREFIX}#{extensions.join &quot;\0&quot;}&quot;</span> <span class="ruby-keyword">unless</span>
    <span class="ruby-identifier">extensions</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;Gem::Specification.new do |s|&quot;</span>

  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  s.name = #{ruby_code name}&quot;</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  s.version = #{ruby_code version}&quot;</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">platform</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">platform</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  s.platform = #{ruby_code original_platform}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  s.required_rubygems_version = #{ruby_code required_rubygems_version} if s.respond_to? :required_rubygems_version=&quot;</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">metadata</span> <span class="ruby-keyword">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  s.metadata = #{ruby_code metadata} if s.respond_to? :metadata=&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  s.require_paths = #{ruby_code raw_require_paths}&quot;</span>

  <span class="ruby-identifier">handled</span> = [
    <span class="ruby-value">:dependencies</span>,
    <span class="ruby-value">:name</span>,
    <span class="ruby-value">:platform</span>,
    <span class="ruby-value">:require_paths</span>,
    <span class="ruby-value">:required_rubygems_version</span>,
    <span class="ruby-value">:specification_version</span>,
    <span class="ruby-value">:version</span>,
    <span class="ruby-value">:has_rdoc</span>,
    <span class="ruby-value">:default_executable</span>,
    <span class="ruby-value">:metadata</span>
  ]

  <span class="ruby-identifier">@@attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr_name</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">handled</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">attr_name</span>
    <span class="ruby-identifier">current_value</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">attr_name</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">current_value</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">default_value</span>(<span class="ruby-identifier">attr_name</span>) <span class="ruby-keyword">or</span>
       <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">required_attribute?</span> <span class="ruby-identifier">attr_name</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  s.#{attr_name} = #{ruby_code current_value}&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@installed_by_version</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  s.installed_by_version = \&quot;#{Gem::VERSION}\&quot; if s.respond_to? :installed_by_version&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;  if s.respond_to? :specification_version then&quot;</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;    s.specification_version = #{specification_version}&quot;</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">nil</span>

    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;    if Gem::Version.new(Gem::VERSION) &gt;= Gem::Version.new(&#39;1.2.0&#39;) then&quot;</span>

    <span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">req</span> = <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">requirements_list</span>.<span class="ruby-identifier">inspect</span>
      <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@type</span>, <span class="ruby-value">:runtime</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">type</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-comment"># HACK</span>
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;      s.add_#{dep.type}_dependency(%q&lt;#{dep.name}&gt;.freeze, #{req})&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;    else&quot;</span>

    <span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">version_reqs_param</span> = <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">requirements_list</span>.<span class="ruby-identifier">inspect</span>
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;      s.add_dependency(%q&lt;#{dep.name}&gt;.freeze, #{version_reqs_param})&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;    end&#39;</span>

    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;  else&quot;</span>
    <span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">version_reqs_param</span> = <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">requirements_list</span>.<span class="ruby-identifier">inspect</span>
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;    s.add_dependency(%q&lt;#{dep.name}&gt;.freeze, #{version_reqs_param})&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;  end&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;end&quot;</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">result</span>.<span class="ruby-identifier">join</span> <span class="ruby-string">&quot;\n&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_ruby_for_cache" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_ruby_for_cache</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a Ruby lighter-weight code representation of this specification,
used for indexing only.</p>

<p>See <a href="Specification.html#method-i-to_ruby">to_ruby</a>.</p>
          
          

          
          <div class="method-source-code" id="to_ruby_for_cache-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2566</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_ruby_for_cache</span>
  <span class="ruby-identifier">for_cache</span>.<span class="ruby-identifier">to_ruby</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_spec" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_spec</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns self</p>
          
          

          
          <div class="method-source-code" id="to_spec-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2577</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_spec</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-traverse" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">traverse</span><span
            class="method-args">(trail = [], visited = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Recursively walk dependencies of this spec, executing the
<code>block</code> for each hop.</p>
          
          

          
          <div class="method-source-code" id="traverse-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2614</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">traverse</span> <span class="ruby-identifier">trail</span> = [], <span class="ruby-identifier">visited</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
  <span class="ruby-identifier">trail</span>.<span class="ruby-identifier">push</span>(<span class="ruby-keyword">self</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">runtime?</span>
      <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">to_specs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep_spec</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">visited</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">dep_spec</span>)
        <span class="ruby-identifier">visited</span>[<span class="ruby-identifier">dep_spec</span>] = <span class="ruby-keyword">true</span>
        <span class="ruby-identifier">trail</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">dep_spec</span>)
        <span class="ruby-keyword">begin</span>
          <span class="ruby-identifier">result</span> = <span class="ruby-identifier">block</span>[<span class="ruby-keyword">self</span>, <span class="ruby-identifier">dep</span>, <span class="ruby-identifier">dep_spec</span>, <span class="ruby-identifier">trail</span>]
        <span class="ruby-keyword">ensure</span>
          <span class="ruby-identifier">trail</span>.<span class="ruby-identifier">pop</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">unless</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">==</span> <span class="ruby-value">:next</span>
          <span class="ruby-identifier">spec_name</span> = <span class="ruby-identifier">dep_spec</span>.<span class="ruby-identifier">name</span>
          <span class="ruby-identifier">dep_spec</span>.<span class="ruby-identifier">traverse</span>(<span class="ruby-identifier">trail</span>, <span class="ruby-identifier">visited</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword">unless</span>
            <span class="ruby-identifier">trail</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">spec_name</span> }
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">trail</span>.<span class="ruby-identifier">pop</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-validate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">validate</span><span
            class="method-args">(packaging = true)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks that the specification contains all required fields, and does a very
basic sanity check.</p>

<p>Raises InvalidSpecificationException if the spec does not pass the checks..</p>
          
          

          
          <div class="method-source-code" id="validate-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2647</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">validate</span> <span class="ruby-identifier">packaging</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-ivar">@warnings</span> = <span class="ruby-value">0</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rubygems/user_interaction&#39;</span>
    <span class="ruby-identifier">extend</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">UserInteraction</span>
    <span class="ruby-identifier">normalize</span>

    <span class="ruby-identifier">nil_attributes</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">non_nil_attributes</span>.<span class="ruby-identifier">find_all</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attrname</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-node">&quot;@#{attrname}&quot;</span>).<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">nil_attributes</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
        <span class="ruby-node">&quot;#{nil_attributes.join &#39;, &#39;} must not be nil&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">packaging</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">rubygems_version</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
            <span class="ruby-node">&quot;expected RubyGems version #{Gem::VERSION}, was #{rubygems_version}&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">@@required_attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">symbol</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">symbol</span> <span class="ruby-keyword">then</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
              <span class="ruby-node">&quot;missing value for attribute #{symbol}&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
            <span class="ruby-node">&quot;invalid value for attribute name: \&quot;#{name.inspect}\&quot; must be a string&quot;</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp">/[a-zA-Z]/</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
            <span class="ruby-node">&quot;invalid value for attribute name: #{name.dump} must include at least one letter&quot;</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">!~</span> <span class="ruby-constant">VALID_NAME_PATTERN</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
            <span class="ruby-node">&quot;invalid value for attribute name: #{name.dump} can only include letters, numbers, dashes, and underscores&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">raw_require_paths</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
            <span class="ruby-string">&#39;specification must have at least one require_path&#39;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-ivar">@files</span>.<span class="ruby-identifier">delete_if</span>            { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">x</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">symlink?</span>(<span class="ruby-identifier">x</span>) }
    <span class="ruby-ivar">@test_files</span>.<span class="ruby-identifier">delete_if</span>       { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">x</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">symlink?</span>(<span class="ruby-identifier">x</span>) }
    <span class="ruby-ivar">@executables</span>.<span class="ruby-identifier">delete_if</span>      { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-ivar">@bindir</span>, <span class="ruby-identifier">x</span>)) }
    <span class="ruby-ivar">@extra_rdoc_files</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">x</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">symlink?</span>(<span class="ruby-identifier">x</span>) }
    <span class="ruby-ivar">@extensions</span>.<span class="ruby-identifier">delete_if</span>       { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">x</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">symlink?</span>(<span class="ruby-identifier">x</span>) }

    <span class="ruby-identifier">non_files</span> = <span class="ruby-identifier">files</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">x</span>) <span class="ruby-operator">||</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">symlink?</span>(<span class="ruby-identifier">x</span>) }

    <span class="ruby-keyword">unless</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">packaging</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">non_files</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
            <span class="ruby-node">&quot;[\&quot;#{non_files.join &quot;\&quot;, \&quot;&quot;}\&quot;] are not files&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">files</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">file_name</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
            <span class="ruby-node">&quot;#{full_name} contains itself (#{file_name}), check your files list&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">specification_version</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
            <span class="ruby-string">&#39;specification_version must be an Integer (did you mean version?)&#39;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">case</span> <span class="ruby-identifier">platform</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>, <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY</span> <span class="ruby-keyword">then</span> <span class="ruby-comment"># ok</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
            <span class="ruby-node">&quot;invalid platform #{platform.inspect}, see Gem::Platform&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">array_attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">val</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">field</span>
      <span class="ruby-identifier">klass</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">field</span>
              <span class="ruby-keyword">when</span> <span class="ruby-value">:dependencies</span>
                <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependency</span>
              <span class="ruby-keyword">else</span>
                <span class="ruby-constant">String</span>
              <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">unless</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">val</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-identifier">klass</span>) } <span class="ruby-keyword">then</span>
        <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
              <span class="ruby-node">&quot;#{field} must be an Array of #{klass}&quot;</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    [<span class="ruby-value">:authors</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">val</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">field</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>, <span class="ruby-node">&quot;#{field} may not be empty&quot;</span> <span class="ruby-keyword">if</span>
        <span class="ruby-identifier">val</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">unless</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">metadata</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
              <span class="ruby-string">&#39;metadata must be a hash&#39;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">k</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
                <span class="ruby-string">&#39;metadata keys must be a String&#39;</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">128</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
                <span class="ruby-node">&quot;metadata key too large (#{k.size} &gt; 128)&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">k</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
                <span class="ruby-string">&#39;metadata values must be a String&#39;</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1024</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
                <span class="ruby-node">&quot;metadata value too large (#{k.size} &gt; 1024)&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">licenses</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">license</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">license</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">64</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
          <span class="ruby-string">&quot;each license must be 64 characters or less&quot;</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Licenses</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-identifier">license</span>)
        <span class="ruby-identifier">suggestions</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Licenses</span>.<span class="ruby-identifier">suggestions</span>(<span class="ruby-identifier">license</span>)
        <span class="ruby-identifier">message</span> = <span class="ruby-value">&lt;&lt;-warning
license value &#39;#{license}&#39; is invalid.  Use a license identifier from
http://spdx.org/licenses or &#39;#{Gem::Licenses::NONSTANDARD}&#39; for a nonstandard license.
        warning</span>
        <span class="ruby-identifier">message</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;Did you mean #{suggestions.map { |s| &quot;&#39;#{s}&#39;&quot;}.join(&#39;, &#39;)}?\n&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">suggestions</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">warning</span>(<span class="ruby-identifier">message</span>)
      <span class="ruby-keyword">end</span>
    }

    <span class="ruby-identifier">warning</span> <span class="ruby-string">&quot;licenses is empty, but is recommended.  Use a license identifier from
http://spdx.org/licenses or &#39;#{Gem::Licenses::NONSTANDARD}&#39; for a nonstandard license.
&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">licenses</span>.<span class="ruby-identifier">empty?</span>

    <span class="ruby-identifier">validate_permissions</span>

    <span class="ruby-comment"># reject lazy developers:</span>

    <span class="ruby-identifier">lazy</span> = <span class="ruby-string">&#39;&quot;FIxxxXME&quot; or &quot;TOxxxDO&quot;&#39;</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/xxx/</span>, <span class="ruby-string">&#39;&#39;</span>)

    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-regexp">/FI XME|TO DO/x</span>).<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>, <span class="ruby-node">&quot;#{lazy} is not an author&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">unless</span> <span class="ruby-constant">Array</span>(<span class="ruby-identifier">email</span>).<span class="ruby-identifier">grep</span>(<span class="ruby-regexp">/FI XME|TO DO/x</span>).<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>, <span class="ruby-node">&quot;#{lazy} is not an email&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">description</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/FI XME|TO DO/x</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>, <span class="ruby-node">&quot;#{lazy} is not a description&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">summary</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/FI XME|TO DO/x</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>, <span class="ruby-node">&quot;#{lazy} is not a summary&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">homepage</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">homepage</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">and</span>
       <span class="ruby-identifier">homepage</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp">/\A[a-z][a-z\d+.-]*:/i</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSpecificationException</span>,
            <span class="ruby-node">&quot;\&quot;#{homepage}\&quot; is not a URI&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># Warnings</span>

    <span class="ruby-node">%w[author email homepage summary]</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attribute</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">value</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">attribute</span>
      <span class="ruby-identifier">warning</span> <span class="ruby-node">&quot;no #{attribute} specified&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">description</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">summary</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">warning</span> <span class="ruby-string">&#39;description and summary are identical&#39;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># TODO: raise at some given date</span>
    <span class="ruby-identifier">warning</span> <span class="ruby-string">&quot;deprecated autorequire specified&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">autorequire</span>

    <span class="ruby-identifier">executables</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">executable</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">executable_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">bindir</span>, <span class="ruby-identifier">executable</span>)
      <span class="ruby-identifier">shebang</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">executable_path</span>, <span class="ruby-value">2</span>) <span class="ruby-operator">==</span> <span class="ruby-string">&#39;#!&#39;</span>

      <span class="ruby-identifier">warning</span> <span class="ruby-node">&quot;#{executable_path} is missing #! line&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">shebang</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">symlink?</span>(<span class="ruby-identifier">file</span>)
      <span class="ruby-identifier">warning</span> <span class="ruby-node">&quot;#{file} is a symlink, which is not supported on all platforms&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">validate_dependencies</span>

    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">$!</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@warnings</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">alert_warning</span> <span class="ruby-string">&quot;See http://guides.rubygems.org/specification-reference/ for help&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-validate_permissions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">validate_permissions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks to see if the files to be packaged are world-readable.</p>
          
          

          
          <div class="method-source-code" id="validate_permissions-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2936</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">validate_permissions</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">win_platform?</span>

  <span class="ruby-identifier">files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-identifier">file</span>).<span class="ruby-identifier">mode</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0444</span> <span class="ruby-operator">==</span> <span class="ruby-value">0444</span>
    <span class="ruby-identifier">warning</span> <span class="ruby-node">&quot;#{file} is not world-readable&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">executables</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">exec</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-ivar">@bindir</span>, <span class="ruby-identifier">name</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">exec</span>)
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-identifier">exec</span>).<span class="ruby-identifier">executable?</span>
    <span class="ruby-identifier">warning</span> <span class="ruby-node">&quot;#{exec} is not executable&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-version-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">version=</span><span
            class="method-args">(version)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="../Set.html">Set</a> the version to <code>version</code>,
potentially also setting <a
href="Specification.html#attribute-i-required_rubygems_version">#required_rubygems_version</a>
if <code>version</code> indicates it is a prerelease.</p>
          
          

          
          <div class="method-source-code" id="version-3D-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2958</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">version=</span> <span class="ruby-identifier">version</span>
  <span class="ruby-ivar">@version</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">version</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">required_rubygems_version</span> = <span class="ruby-string">&#39;&gt; 1.3.1&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@version</span>.<span class="ruby-identifier">prerelease?</span>
  <span class="ruby-identifier">invalidate_memoized_attributes</span>

  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@version</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-Specification+internals-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-add_dependency_with_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_dependency_with_type</span><span
            class="method-args">(dependency, type, *requirements)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Adds a dependency on gem <code>dependency</code> with type
<code>type</code> that requires <code>requirements</code>.  Valid types are
currently <code>:runtime</code> and <code>:development</code>.</p>
          
          

          
          <div class="method-source-code" id="add_dependency_with_type-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1520</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_dependency_with_type</span>(<span class="ruby-identifier">dependency</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">requirements</span>)
  <span class="ruby-identifier">requirements</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">requirements</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
                   <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>.<span class="ruby-identifier">default</span>
                 <span class="ruby-keyword">else</span>
                   <span class="ruby-identifier">requirements</span>.<span class="ruby-identifier">flatten</span>
                 <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">dependency</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:name</span>) <span class="ruby-operator">&amp;&amp;</span>
         <span class="ruby-identifier">dependency</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:requirement</span>)
    <span class="ruby-identifier">dependency</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependency</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">dependency</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">requirements</span>, <span class="ruby-identifier">type</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">dependencies</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">dependency</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-find_all_satisfiers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_all_satisfiers</span><span
            class="method-args">(dep) { |spec| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Finds all gems that satisfy <code>dep</code></p>
          
          

          
          <div class="method-source-code" id="find_all_satisfiers-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 1950</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_all_satisfiers</span> <span class="ruby-identifier">dep</span>
  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">spec</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">satisfies_requirement?</span> <span class="ruby-identifier">dep</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-invalidate_memoized_attributes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">invalidate_memoized_attributes</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Expire memoized instance variables that can incorrectly generate, replace
or miss files due changes in certain attributes used to compute them.</p>
          
          

          
          <div class="method-source-code" id="invalidate_memoized_attributes-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2097</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">invalidate_memoized_attributes</span>
  <span class="ruby-ivar">@full_name</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@cache_file</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ruby_code" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ruby_code</span><span
            class="method-args">(obj)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a string containing a Ruby code representation of the given object.</p>
          
          

          
          <div class="method-source-code" id="ruby_code-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2342</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ruby_code</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">obj</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>            <span class="ruby-keyword">then</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">dump</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;.freeze&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>             <span class="ruby-keyword">then</span> <span class="ruby-string">&#39;[&#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ruby_code</span> <span class="ruby-identifier">x</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;, &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&#39;]&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>              <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">seg</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{k.to_s.dump} =&gt; #{obj[k].to_s.dump}&quot;</span> }
    <span class="ruby-node">&quot;{ #{seg.join(&#39;, &#39;)} }&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>      <span class="ruby-keyword">then</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">dump</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">DateLike</span>          <span class="ruby-keyword">then</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&#39;%Y-%m-%d&#39;</span>).<span class="ruby-identifier">dump</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Time</span>              <span class="ruby-keyword">then</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&#39;%Y-%m-%d&#39;</span>).<span class="ruby-identifier">dump</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Numeric</span>           <span class="ruby-keyword">then</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">inspect</span>
  <span class="ruby-keyword">when</span> <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span>  <span class="ruby-keyword">then</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">inspect</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>     <span class="ruby-keyword">then</span> <span class="ruby-node">&quot;Gem::Platform.new(#{obj.to_a.inspect})&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>  <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">list</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">as_list</span>
    <span class="ruby-node">&quot;Gem::Requirement.new(#{ruby_code(list.size == 1 ? obj.to_s : list)})&quot;</span>
  <span class="ruby-keyword">else</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Exception</span>, <span class="ruby-node">&quot;ruby_code case not handled: #{obj.class}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-same_attributes-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">same_attributes?</span><span
            class="method-args">(spec)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>True if this gem has the same attributes as <code>other</code>.</p>
          
          

          
          <div class="method-source-code" id="same_attributes-3F-source">
            <pre><span class="ruby-comment"># File lib/rubygems/specification.rb, line 2374</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">same_attributes?</span> <span class="ruby-identifier">spec</span>
  <span class="ruby-identifier">@@attributes</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">default</span><span class="ruby-operator">|</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">name</span>) }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.0.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

